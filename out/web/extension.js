(()=>{var __webpack_modules__={975:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",s=0,o=-1,a=0,i=0;i<=e.length;++i){if(i<e.length)r=e.charCodeAt(i);else{if(47===r)break;r=47}if(47===r){if(o===i-1||1===a);else if(o!==i-1&&2===a){if(n.length<2||2!==s||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var _=n.lastIndexOf("/");if(_!==n.length-1){-1===_?(n="",s=0):s=(n=n.slice(0,_)).length-1-n.lastIndexOf("/"),o=i,a=0;continue}}else if(2===n.length||1===n.length){n="",s=0,o=i,a=0;continue}t&&(n.length>0?n+="/..":n="..",s=2)}else n.length>0?n+="/"+e.slice(o+1,i):n=e.slice(o+1,i),s=i-o-1;o=i,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var e,n="",s=!1,o=arguments.length-1;o>=-1&&!s;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(n=a+"/"+n,s=47===a.charCodeAt(0))}return n=r(n,!s),s?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),s=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&s&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var s=arguments[r];t(s),s.length>0&&(void 0===e?e=s:e+="/"+s)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var o=e.length,a=o-s,i=1;i<r.length&&47===r.charCodeAt(i);++i);for(var _=r.length-i,c=a<_?a:_,l=-1,u=0;u<=c;++u){if(u===c){if(_>c){if(47===r.charCodeAt(i+u))return r.slice(i+u+1);if(0===u)return r.slice(i+u)}else a>c&&(47===e.charCodeAt(s+u)?l=u:0===u&&(l=0));break}var d=e.charCodeAt(s+u);if(d!==r.charCodeAt(i+u))break;47===d&&(l=u)}var m="";for(u=s+l+1;u<=o;++u)u!==o&&47!==e.charCodeAt(u)||(0===m.length?m+="..":m+="/..");return m.length>0?m+r.slice(i+l):(i+=l,47===r.charCodeAt(i)&&++i,r.slice(i))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,s=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(r=e.charCodeAt(a))){if(!o){s=a;break}}else o=!1;return-1===s?n?"/":".":n&&1===s?"//":e.slice(0,s)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,s=0,o=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var i=r.length-1,_=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!a){s=n+1;break}}else-1===_&&(a=!1,_=n+1),i>=0&&(c===r.charCodeAt(i)?-1==--i&&(o=n):(i=-1,o=_))}return s===o?o=_:-1===o&&(o=e.length),e.slice(s,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){s=n+1;break}}else-1===o&&(a=!1,o=n+1);return-1===o?"":e.slice(s,o)},extname:function(e){t(e);for(var r=-1,n=0,s=-1,o=!0,a=0,i=e.length-1;i>=0;--i){var _=e.charCodeAt(i);if(47!==_)-1===s&&(o=!1,s=i+1),46===_?-1===r?r=i:1!==a&&(a=1):-1!==r&&(a=-1);else if(!o){n=i+1;break}}return-1===r||-1===s||0===a||1===a&&r===s-1&&r===n+1?"":e.slice(r,s)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,s=e.charCodeAt(0),o=47===s;o?(r.root="/",n=1):n=0;for(var a=-1,i=0,_=-1,c=!0,l=e.length-1,u=0;l>=n;--l)if(47!==(s=e.charCodeAt(l)))-1===_&&(c=!1,_=l+1),46===s?-1===a?a=l:1!==u&&(u=1):-1!==a&&(u=-1);else if(!c){i=l+1;break}return-1===a||-1===_||0===u||1===u&&a===_-1&&a===i+1?-1!==_&&(r.base=r.name=0===i&&o?e.slice(1,_):e.slice(i,_)):(0===i&&o?(r.name=e.slice(1,a),r.base=e.slice(1,_)):(r.name=e.slice(i,a),r.base=e.slice(i,_)),r.ext=e.slice(a,_)),i>0?r.dir=e.slice(0,i-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},881:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDiagnostics=void 0;const n=r(398),s=r(486),o=r(329),a=r(265);let i;function _(e,t){if(!n.languages.match(a.DocumentSelector,e))return;const r=(0,o.getTrees)(e).jsonTree.rootNode,_=[];{const t=(0,o.getTrees)(e).regexNodes;for(const e in t){const r=t[e],a=r.text,i=r.previousNamedSibling;if(!i)continue;let l=a.replace(/\\[\\\/bfnrt"]|\\u[0-9a-fA-F]{4}/g,c);"end"!=i.text&&"while"!=i.text||(l=l.replace(/\\[1-9](\d{2})?(?!\d)/g,"\\0"));const u=new s.OnigScanner([l])._onigBinding,d=u.UTF8ToString(u._getLastOnigError());if("undefined error code"!=d){const e={range:(0,o.toRange)(i),message:d,severity:n.DiagnosticSeverity.Error,source:"Oniguruma"};_.push(e)}}}{const e=(0,o.queryNode)(r,"(include (value !scopeName (ruleName) @include))"),t="(json (repository (repo (key) @rootRepo)))",s=(0,o.queryNode)(r,t);for(const t of e){const e=t.node,a=e.text;let c=!1;for(const e of s)if(e.node.text==a){c=!0;break}if(c)continue;const l={startPosition:e.startPosition,endPosition:e.endPosition},u=i.matches(r,l);for(const e of u){const t=e.captures;for(const e of t)if(e.node.text==a){c=!0;break}}if(c)continue;const d={range:(0,o.toRange)(e),message:`\`${a}\` was not found in a repository.`,severity:n.DiagnosticSeverity.Error,source:"TextMate"};_.push(d)}}t.set(e.uri,_)}function c(e,...t){switch(e.charAt(1)){case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case'"':return'"';case"u":const t=e.substring(2,6),r=parseInt(t,16);return String.fromCodePoint(r)}}t.initDiagnostics=function(e){const t=n.languages.createDiagnosticCollection("textmate");e.subscriptions.push(t),i=o.jsonParserLanguage.query("\n\t\t(repo\n\t\t;\t[(patterns) (include)] (repository ; causes extra 70ms lag\n\t\t\t(repository\n\t\t\t\t(repo\n\t\t\t\t\t(key) @nestRepo))\n\t\t\t!match !begin)\n\t");for(const e of n.window.visibleTextEditors)_(e.document,t);e.subscriptions.push(n.workspace.onDidOpenTextDocument((e=>{_(e,t)}))),e.subscriptions.push(n.workspace.onDidChangeTextDocument((e=>{_(e.document,t)}))),e.subscriptions.push(n.workspace.onDidCloseTextDocument((e=>{t.delete(e.uri)})))}},131:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initOniguruma=void 0;const n=r(398),s=r(486);t.initOniguruma=async function(e){const t=n.Uri.joinPath(e.extensionUri,"node_modules","vscode-oniguruma","release","onig.wasm"),r={data:await n.workspace.fs.readFile(t),print(e){console.log(e)}};await s.loadWASM(r)}},419:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyProvider=void 0;const n=r(398),s=r(329),o=r(789);t.CallHierarchyProvider={prepareCallHierarchy(e,t,r){const a=e.uri,i=(0,s.getTrees)(a).jsonTree.rootNode,_=(0,s.toPoint)(t),c=(0,s.queryNode)(i,"(include (value !scopeName (ruleName) @include))",_),l=c?.node?.text,u=l?`\n\t\t\t(json (repository (repo (key) @repo (.eq? @repo "${l}"))))\n\t\t\t(repo\n\t\t\t\t[(patterns) (include)] (repository\n\t\t\t\t\t(repo\n\t\t\t\t\t\t(key) @repo (.eq? @repo "${l}")))\n\t\t\t\t!match !begin)\n\t\t`:"(repo (key) @repo)",d=(0,s.queryNode)(i,u,_,!1);if(!d)return;const m=d.node,p=(0,s.toRange)(m),h=(0,s.toRange)((0,s.trueParent)(m)),g=(0,s.getComment)(m),f=m.text,w=o.SymbolKind[d.name];return new n.CallHierarchyItem(w,f,g,a,h,p)},provideCallHierarchyIncomingCalls(e,t){const r=e.uri,a=(0,s.getTrees)(r).jsonTree.rootNode,i=[],_=`(include (value !scopeName (ruleName) @include (.eq? @include "${e.name}")))`,c=(0,s.queryNode)(a,_);for(const e of c){const t=e.node,_=(0,s.toRange)(t),c=(0,s.toRange)((0,s.trueParent)(t)),l="\n\t\t\t\t(json (scopeName (value) @scopeName))\n\t\t\t\t(repo (key) @repo)\n\t\t\t",u=(0,s.queryNode)(a,l,t.startPosition,!1).node,d=(0,s.getComment)(u),m=u.text,p=o.SymbolKind[e.name],h=new n.CallHierarchyItem(p,m,d,r,c,_),g=[c],f=new n.CallHierarchyIncomingCall(h,g);i.push(f)}return i},provideCallHierarchyOutgoingCalls(e,t){const r=e.uri,a=(0,s.getTrees)(r).jsonTree.rootNode,i=[],_=(0,s.toPoint)(e.range.start),c=(0,s.toPoint)(e.range.end),l=(0,s.queryNode)(a,"\n\t\t\t;(include (value) @include)\n\t\t\t(include (value !scopeName (ruleName) @include))\n\t\t",_,c);for(const e of l){const t=e.node,c=t.text,l=`\n\t\t\t\t(json (repository (repo (key) @repo (.eq? @repo "${c}"))))\n\t\t\t\t(repo\n\t\t\t\t\t[(patterns) (include)] (repository\n\t\t\t\t\t\t(repo\n\t\t\t\t\t\t\t(key) @repo (.eq? @repo "${c}")))\n\t\t\t\t\t!match !begin)\n\t\t\t`,u=(0,s.queryNode)(a,l,_,!1);if(!u)continue;const d=u.node,m=(0,s.toRange)(d),p=(0,s.toRange)((0,s.trueParent)(d)),h=d.text,g=(0,s.getComment)(d),f=o.SymbolKind[u.name],w=new n.CallHierarchyItem(f,h,g,r,p,m),y=[(0,s.toRange)((0,s.trueParent)(t))],b=new n.CallHierarchyOutgoingCall(w,y);i.push(b)}return i}}},93:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionItemProvider=t.triggerCharacters=void 0;const n=r(398),s=r(329),o=r(225),a=['"',"#",".","$"],i=['"',".","$"," "],_=["\\","(","?","<","'"];function c(e,t,r,o){const a=t.rootNode,i='(json (repository (repo (key) @rootRepo (.not-match? @rootRepo "^\\\\$(self|base)$"))))'+(o?"":'(repo\n\t\t\t\t[(patterns) (include)] (repository\n\t\t\t\t\t(repo\n\t\t\t\t\t\t(key) @nestRepo (.not-match? @nestRepo "^\\\\$(self|base)$")))\n\t\t\t\t!match !begin)'),_=o?(0,s.queryNode)(a,i):(0,s.queryNode)(a,i,(0,s.toPoint)(r.start),(0,s.toPoint)(r.end));for(const t of _){const i=t.node,_=i.text,c=_?i.parent:i.parent.parent,l='(comment (value) @comment (.not-eq? @comment ""))(comment_slash (value) @comment (.not-eq? @comment ""))',u=(0,s.queryNode)(c,l)[0]?.node?.text?.replace(/\\(.)?/g,"$1"),d={label:(o??"")+"#"+_,description:u},m=c.text;let p;if(a.startPosition.row==a.endPosition.row)try{const e=JSON.parse("{"+m+"}");p=`"${_}": `+JSON.stringify(e[_],null,2).slice(0,99900)}catch(e){p=m.slice(0,1e3)}else p=m.slice(0,99900);const h=new n.MarkdownString;h.appendCodeblock(p,"json-textmate");const g={label:d,range:r,kind:n.CompletionItemKind.Function,documentation:h};"nestRepo"==t.name&&(g.sortText=" #"+_),e.push(g)}}t.triggerCharacters=[].concat(a,i,_),t.CompletionItemProvider={async provideCompletionItems(e,t,r,l){const u=(0,s.getTrees)(e).jsonTree,d=u.rootNode,m=(0,s.toPoint)(t),p=(0,s.queryNode)(d,"\n\t\t\t(include (value) @include)\n\t\t\t(name (value) @new_scope)\n\t\t\t(name (value (scope) @scope))\n\t\t\t;(regex) @regex\n\t\t",m);if(null==p)return;const h=p.node,g=(0,s.toRange)(h),f=[],w=p.name;switch(w){case"include":if(l.triggerKind==n.CompletionTriggerKind.TriggerCharacter&&-1==a.indexOf(l.triggerCharacter))return;const r="(json (patterns) @patterns)",m=(0,s.queryNode)(u.rootNode,r).pop()?.node?.text,p={label:"$self",description:"Includes the current grammar file"},y=new n.MarkdownString;y.appendCodeblock(m,"json-textmate");const b={label:p,documentation:y,kind:n.CompletionItemKind.Class};f.push(b);const S={label:{label:"$base",description:"Includes the highest parent grammar"},range:g,kind:n.CompletionItemKind.Class,sortText:"$zbase"};f.push(S),c(f,u,g);const E=h.childForFieldName("scopeName")?.text;if(E){const e="(json (scopeName (value) @scopeName))",t=(0,s.queryNode)(u.rootNode,e).pop()?.node?.text,r={label:{label:t,description:"$self"},range:g,kind:n.CompletionItemKind.Field,documentation:y,commitCharacters:["#"],command:{command:"editor.action.triggerSuggest",title:"Trigger `source#include` completions"},tags:[n.CompletionItemTag.Deprecated]};f.push(r),t==E&&c(f,u,g,t)}for(const e of n.extensions.all){const t=e.packageJSON?.contributes?.grammars;if(t){const o=h.text;for(const a of t){const t=a.scopeName;if(t){const i=new n.MarkdownString;if(E==t){const _=n.Uri.joinPath(e.extensionUri,a.path),l=await n.workspace.openTextDocument(_),u=(0,s.getTrees)(l).jsonTree;if(c(f,u,g,E),o==t){const e=(0,s.queryNode)(u.rootNode,r).pop()?.node?.text;let t;if(1==l.lineCount)try{const r=JSON.parse("{"+e+"}");t='"patterns": '+JSON.stringify(r.patterns,null,2).slice(0,99900)}catch(r){t=e.slice(0,1e3)}else t=e.slice(0,99900);i.appendCodeblock(t,"json-textmate")}}else i.appendCodeblock(JSON.stringify(a,null,2),"json");const _={label:{label:t,description:a.language},range:g,kind:n.CompletionItemKind.Field,documentation:i,commitCharacters:["#"],command:{command:"editor.action.triggerSuggest",title:"Trigger `source#include` completions"}};f.push(_)}}}}break;case"scope":case"new_scope":if(l.triggerKind==n.CompletionTriggerKind.TriggerCharacter&&-1==i.indexOf(l.triggerCharacter))return;const x=await(0,o.getScopes)();for(const e in x){const t=x[e],r={label:e,description:t.name},s=e.match(/\b(?:comment|string|regex|meta\.embedded)\b/),o={label:r,range:"scope"==w?g:null,kind:n.CompletionItemKind.Color,detail:t.foreground||t.background,documentation:"Theme: "+t.theme+"\nComment: "+(t.name??"")+"\nForeground: "+(t.foreground??"editor.foreground")+"\nBackground: "+(t.background??"editor.background")+"\nFontStyle: "+(t.fontStyle??"")+"\nStandardTokenType: "+(s?"meta.embedded"==s[0]?"other":s[0]:"")};f.push(o)}const N=[],T='(name (value (scope) @scope (.not-match? @scope "^(\\\\$0*[0-9]{1,3})+$")))',R=(0,s.queryNode)(d,T);for(const e of R){const t=e.node.text;N.push(t)}const C=[...new Set(N)];for(const e of C){if(x[e])continue;const t={label:{label:e},range:"scope"==w?g:null,kind:n.CompletionItemKind.Function};f.push(t)}const v="\\${$1:/upcase}",I={label:{label:"${0:/upcase}"},range:g,kind:n.CompletionItemKind.Function,insertText:v};f.push(I);break;case"regex":if(l.triggerKind==n.CompletionTriggerKind.TriggerCharacter&&-1==_.indexOf(l.triggerCharacter))return;n.window.showInformationMessage(JSON.stringify(e.getText(new n.Range(t.line,t.character-1,t.line,t.character)))),e.getText(new n.Range(t.line,t.character-1,t.line,t.character));const k={label:"\\\\\\\\",kind:n.CompletionItemKind.Class};f.push(k);const M={label:"\\\\s",kind:n.CompletionItemKind.Class};f.push(M),f.push(new n.CompletionItem("\\\\w",n.CompletionItemKind.Class));break;default:return}return new n.CompletionList(f)}}},481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefinitionProvider=void 0;const n=r(398),s=r(329),o=r(265);function a(e,t,r,n){if(!t)return!1;const o=(0,s.toRange)(t),a={originSelectionRange:r,targetUri:n,targetRange:o,targetSelectionRange:o};return e.push(a),!0}function i(e,t,r,n){const o=(0,s.getLastNode)(t,n);if(!o)return;const a=e.regexTrees,i=o.childForFieldName("regex").id,_=a[i]?.rootNode,c=parseInt(r.text.replace("$",""));if(0==c)return _;const l=(0,s.queryNode)(_,"\n\t\t(capture_group) @group\n\t\t(capture_group_extended) @group\n\t\t(capture_group_name) @name\n\t\t(capture_group_name_extended) @name\n\t");return l[c-1]?.node}t.DefinitionProvider={async provideDefinition(e,t,r){const _=(0,s.getTrees)(e),c=_.jsonTree,l=(0,s.toPoint)(t),u=(0,s.queryNode)(c.rootNode,"\n\t\t\t(json (scopeName (value) @scopeName))\n\t\t\t(repo (key) @repo)\n\t\t\t(include (value) @include)\n\t\t\t(captures (capture (key) @capture))\n\t\t\t(beginCaptures (capture (key) @beginCapture))\n\t\t\t(endCaptures (capture (key) @endCapture))\n\t\t\t(whileCaptures (capture (key) @whileCapture))\n\t\t\t(name (value (scope (replace_capture) @replace)))\n\t\t\t(contentName (value (scope (replace_capture) @replace)))\n\t\t\t;(match (regex) @regex)\n\t\t",l);if(null==u)return;const d=u.node,m=(0,s.toRange)(d);if(!m.contains(t))return;const p=d.text;let h;const g=e.uri,f=[];switch(u.name){case"scopeName":for(const e of n.extensions.all){const t=e.packageJSON?.contributes?.grammars;if(t)for(const r of t)if(r.scopeName==p){const t=n.Uri.joinPath(e.extensionUri,"package.json");await n.workspace.openTextDocument(t)}}const r=n.Uri.joinPath(g,"../../package.json");r&&await n.workspace.openTextDocument(r);for(const e of n.workspace.textDocuments)if(n.languages.match({pattern:"**/package.json"},e))try{const t=await JSON.parse(e.getText()),r=t?.contributes?.grammars;if(r)for(const t of r)if(t.scopeName==p){const t={originSelectionRange:m,targetUri:e.uri,targetRange:new n.Range(0,0,e.lineCount,1e3),targetSelectionRange:new n.Range(0,0,e.lineCount+1,0)};f.push(t)}}catch(e){}break;case"repo":if("$self"==p||"$base"==p)return;break;case"include":if(d.childForFieldName("base"))break;h="(json (scopeName (value) @scopeName))";const u=(0,s.queryNode)(c.rootNode,h).pop()?.node??null,w=u?.text??"",y=d.childForFieldName("scopeName")?.text??"",b=d.childForFieldName("ruleName")?.text??"";h="(json (patterns) @patterns)";const S=(0,s.queryNode)(c.rootNode,h).pop()?.node,E=(0,s.toRange)(S);if(d.childForFieldName("self")&&!y||y==w&&!b){if(null==S)break;const t=E.contains(m)?(0,s.toRange)(S.childForFieldName("key")):E,r={originSelectionRange:m,targetUri:e.uri,targetRange:E,targetSelectionRange:t};f.push(r);break}if(!y||y==w){h=`(repo\n\t\t\t\t\t\t\t\t\t\t[(patterns) (include)] (repository\n\t\t\t\t\t\t\t\t\t\t\t(repo\n\t\t\t\t\t\t\t\t\t\t\t\t(key) @repo (.eq? @repo "${b}")))\n\t\t\t\t\t\t\t\t\t\t!match !begin)`;const t=(0,s.queryNode)(c.rootNode,h,l,!1)?.node;if(t){const r={originSelectionRange:m,targetUri:e.uri,targetRange:(0,s.toRange)(t.parent),targetSelectionRange:(0,s.toRange)(t)};f.push(r);break}h=`(json (repository (repo (key) @repo (.eq? @repo "${b}"))))`;const r=(0,s.queryNode)(c.rootNode,h).pop()?.node;if(r){const t={originSelectionRange:m,targetUri:e.uri,targetRange:(0,s.toRange)(r.parent),targetSelectionRange:(0,s.toRange)(r)};f.push(t)}break}for(const e of n.extensions.all){const t=e.packageJSON?.contributes?.grammars;if(t)for(const r of t)if(r.scopeName==y){const t=n.Uri.joinPath(e.extensionUri,r.path),s=await n.workspace.openTextDocument(t);n.languages.setTextDocumentLanguage(s,"json-textmate")}}for(const e of n.workspace.textDocuments){if(!n.languages.match(o.DocumentSelector,e))continue;const t=(0,s.getTree)(e);h=`(json (scopeName (value) @scopeName (.eq? @scopeName "${y}")))`;const r=(0,s.queryNode)(t.rootNode,h).pop()?.node;if(r)if(b){h=`(json (repository (repo (key) @repo (.eq? @repo "${b}"))))`;const r=(0,s.queryNode)(t.rootNode,h).pop()?.node;if(r){const t={originSelectionRange:m,targetUri:e.uri,targetRange:(0,s.toRange)(r.parent),targetSelectionRange:(0,s.toRange)(r)};f.push(t)}}else{h="(json (patterns) @patterns)";const n=(0,s.queryNode)(t.rootNode,h).pop()?.node,o={originSelectionRange:m,targetUri:e.uri,targetRange:(0,s.toRange)(n),targetSelectionRange:(0,s.toRange)(r)};f.push(o)}}break;case"replace":const x=d.parent.parent.parent,N=x.parent;if(a(f,("name"==x.type?i(_,N,d,"match"):null)??i(_,N,d,"begin"),m,g))break;const T=N.parent,R=T.parent;if("captures"==T.type){if(a(f,i(_,R,d,"match"),m,g))break;if(!R.childForFieldName("begin"))break;if((0,s.getLastNode)(R,"beginCaptures")||a(f,i(_,R,d,"begin"),m,g),R.childForFieldName("while")){R.childForFieldName("whileCaptures")||a(f,i(_,R,d,"while"),m,g);break}R.childForFieldName("end")&&!R.childForFieldName("endCaptures")&&a(f,i(_,R,d,"end"),m,g);break}if("beginCaptures"==T.type&&a(f,i(_,R,d,"begin"),m,g))break;if("endCaptures"==T.type&&a(f,i(_,R,d,"end"),m,g))break;if("whileCaptures"==T.type&&a(f,i(_,R,d,"while"),m,g))break;break;case"capture":const C=d.parent.parent.parent;if(C.childForFieldName("match")){const t=i(_,C,d,"match"),r=(0,s.toRange)(t),n={originSelectionRange:m,targetUri:e.uri,targetRange:r,targetSelectionRange:r};f.push(n);break}if(!C.childForFieldName("begin"))break;if(!(0,s.getLastNode)(C,"beginCaptures")){const t=i(_,C,d,"begin");if(t){const r=(0,s.toRange)(t),n={originSelectionRange:m,targetUri:e.uri,targetRange:r,targetSelectionRange:r};f.push(n)}}if(C.childForFieldName("while")){if(!C.childForFieldName("whileCaptures")){const t=i(_,C,d,"while");if(t){const r=(0,s.toRange)(t),n={originSelectionRange:m,targetUri:e.uri,targetRange:r,targetSelectionRange:r};f.push(n)}}break}if(!C.childForFieldName("endCaptures")){const t=i(_,C,d,"end");if(t){const r=(0,s.toRange)(t),n={originSelectionRange:m,targetUri:e.uri,targetRange:r,targetSelectionRange:r};f.push(n)}}break;case"beginCapture":case"endCapture":case"whileCapture":a(f,i(_,d.parent.parent.parent,d,"while"),m,g);break;case"regex":const v=function(e,t,r){const o=e.regexTrees,a=o[t.id]?.rootNode;let i;const _=(0,s.queryNode)(a,"\n\t\t(capture_group) @group\n\t\t(capture_group_extended) @group\n\t\t(capture_group_name) @name\n\t\t(capture_group_name_extended) @name\n\t");let c=_.length;for(;_.length;){const e=_.pop().node;if((0,s.toRange)(e).contains(r)){i=e;break}c--}if(n.window.showInformationMessage(JSON.stringify(c)),!i)return;const l={row:r.line,column:r.character-1},u={row:r.line,column:r.character+1},d=(0,s.queryNode)(i,'\n\t\t"(" @open\n\t\t")" @close\n\t\t"(?<" @open\n\t\t"(?\'" @open\n\t\t">" @close\n\t\t"\'" @close\n\t\t(name) @name\n\t',l,u).pop()?.node;if(!d)return;const m=`\n\t\t;(regex (subroutine (number)) @subroutine)\n\t\t(regex (subroutine (number)) @subroutine (#eq? @subroutine "\\\\\\\\g<${c}>"))\n\t`,p=(0,s.queryNode)(a,m);return n.window.showInformationMessage(JSON.stringify(a.toString())),n.window.showInformationMessage(JSON.stringify(p)),{range:(0,s.toRange)(i),captures:p}}(_,d,t);if(!v)return;for(const t of v.captures){const r=(0,s.toRange)(t.node),n={originSelectionRange:v.range,targetUri:e.uri,targetRange:r,targetSelectionRange:r};f.push(n)}return f;default:return}return 0==f.length&&a(f,d.parent,m,g),f}}},714:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentRangeFormattingEditProvider=t.DocumentFormattingEditProvider=void 0;const n=r(398),s=r(329);function o(e,t,r,s,a){let i,_,c,l=!1;for(const n of e.namedChildren)o(n,t,r+s,s,a)&&(l=!0);if(0==l){const t=e.namedChildCount;if(t>1)switch(e.type){case"value":case"regex":break;case"repo":case"repository":case"injection":l=!0;break;case"patterns":if("json"==e.parent.type){l=!0;break}default:if(t>2){l=!0;break}if("key"!=e.firstNamedChild.type){l=!0;break}if(e.text.length>2e3){l=!0;break}}}for(const o of e.children)switch(o.type){case"{":case"[":if(r+=s,null==o.nextSibling)break;_=1==l?"\n".padEnd(r+1,a):" ",i=new n.Range(o.endPosition.row,o.endPosition.column,o.nextSibling.startPosition.row,o.nextSibling.startPosition.column),c=n.TextEdit.replace(i,_),t.push(c);break;case"}":case"]":if(r-=s,null==o.previousSibling)break;if("{"==o.previousSibling.type)break;if("["==o.previousSibling.type)break;_=1==l?"\n".padEnd(r+1,a):" ",i=new n.Range(o.previousSibling.endPosition.row,o.previousSibling.endPosition.column,o.startPosition.row,o.startPosition.column),c=n.TextEdit.replace(i,_),t.push(c);break;case",":if(null==o.nextSibling)break;if(_=1==l?"\n".padEnd(r+1,a):" ",i=new n.Range(o.endPosition.row,o.endPosition.column,o.nextSibling.startPosition.row,o.nextSibling.startPosition.column),c=n.TextEdit.replace(i,_),t.push(c),null==o.previousSibling)break;_="",i=new n.Range(o.previousSibling.endPosition.row,o.previousSibling.endPosition.column,o.startPosition.row,o.startPosition.column),c=n.TextEdit.replace(i,_),t.push(c);break;case":":if(null==o.nextSibling)break;if(_=" ",i=new n.Range(o.endPosition.row,o.endPosition.column,o.nextSibling.startPosition.row,o.nextSibling.startPosition.column),c=n.TextEdit.replace(i,_),t.push(c),null==o.previousSibling)break;_="",i=new n.Range(o.previousSibling.endPosition.row,o.previousSibling.endPosition.column,o.startPosition.row,o.startPosition.column),c=n.TextEdit.replace(i,_),t.push(c)}return l}t.DocumentFormattingEditProvider={provideDocumentFormattingEdits(e,t,r){const n=(0,s.getTrees)(e).jsonTree,a=[],i=t.insertSpaces?" ":"\t",_=t.insertSpaces?t.tabSize:1;return o(n.rootNode,a,0,_,i),a}},t.DocumentRangeFormattingEditProvider={provideDocumentRangeFormattingEdits(e,t,r,n){const a=(0,s.getTrees)(e).jsonTree,i=[],_=r.insertSpaces?" ":"\t",c=r.insertSpaces?r.tabSize:1,l=(0,s.toPoint)(t.start),u=(0,s.toPoint)(t.end),d=(0,s.queryNode)(a.rootNode,"(_) @node",l,u);let m,p=-1;for(const e of d){const r=e.node;if(!(0,s.toRange)(r).contains(t))break;m=r,p++}return o(m,i,Math.min(p,m.startPosition.column),c,_),i}}},99:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentHighlightProvider=void 0;const n=r(398),s=r(329);t.DocumentHighlightProvider={provideDocumentHighlights(e,t,r){const o=(0,s.getTrees)(e).jsonTree,a=(0,s.toPoint)(t),i=(0,s.queryNode)(o.rootNode,"\n\t\t\t(key) @key\n\t\t\t(value !scopeName !ruleName !self !base) @value\n\t\t\t(capture . (key) @key)\n\t\t\t(repo . (key) @repo)\n\t\t\t(json (scopeName (value) @rootScopeName))\n\t\t\t(include (value (scopeName) !ruleName !base) @scopeName)\n\t\t\t(include (value (ruleName)) @include)\n\t\t\t(include (value !scopeName (self) @self))\n\t\t\t(include (value (base) @base))\n\t\t\t(name (value (scope) @scope))\n\t\t",a);if(!i)return;const _=i.name,c=i.node,l=c.text,u=(0,s.queryNode)(o.rootNode,"(json (scopeName (value) @scopeName))").pop()?.node?.text;let d="";switch(_){case"key":d=`(${(0,s.trueParent)(c).type} . (key) @key (#eq? @key "${l}"))`;break;case"value":d=`(_ (value) @value (#eq? @value "${l}"))`;break;case"repo":d=`(repo (key) @repo (#eq? @repo "${l}"))`,d+=`(include (value (scopeName)? @_scopeName (#eq? @_scopeName "${u}") (ruleName) @_ruleName (#eq? @_ruleName "${l}")) @include)`;break;case"self":case"rootScopeName":d="(json (scopeName (value) @scopeName))",d+=`(include (value (scopeName) @_scopeName (#eq? @_scopeName "${u}") !ruleName !base) @include)`,d+="(include (value (self) !scopeName) @self)";break;case"base":d="(include (value (base)) @base)";break;case"scopeName":const e=c.childForFieldName("scopeName")?.text;d=`(include (value (scopeName) @_scopeName (#eq? @_scopeName "${e}") !ruleName !base) @include)`,e==u&&(d+="(json (scopeName (value) @scopeName))",d+="(include (value (self) !scopeName) @self)");break;case"include":const t=c.childForFieldName("scopeName")?.text,r=c.childForFieldName("ruleName")?.text;t&&t!=u?d=`(include (value (scopeName) @_scopeName (#eq? @_scopeName "${t}") (ruleName) @_ruleName (#eq? @_ruleName "${r}")) @include)`:(d=`(include (value (scopeName)? @_scopeName (#eq? @_scopeName "${t??u}") (ruleName) @_ruleName (#eq? @_ruleName "${r}")) @include)`,d+=`(repo (key) @repo (#eq? @repo "${r}"))`);break;case"scope":d=`(name (value (scope) @scope (#eq? @scope "${l}")))`;break;default:return}const m=[],p=(0,s.queryNode)(o.rootNode,d);for(const e of p){if("_"==e.name.charAt(0))continue;const t=e.node,r=(0,s.toRange)(t),o=new n.DocumentHighlight(r,n.DocumentHighlightKind.Read);m.push(o)}return m}}},789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSymbolProvider=t.SymbolKind=void 0;const n=r(398),s=r(329);function o(e){let r;switch(e.type){case"pattern":case"injection":let t=0,n=e;for(;n=n.previousNamedSibling;)t++;r=t.toString();break;case"repo":case"capture":r=e.firstNamedChild.text;break;case"name":r="name";break;case"value":r=e.text}const o=r?.slice(0,50)||e.type,a=e.text.slice(0,50),i=t.SymbolKind[e.type]??(e.isNamed?n.SymbolKind.Method:n.SymbolKind.Field),_=(0,s.toRange)(e),c=_;return new n.DocumentSymbol(o,a,i,_,c)}t.SymbolKind={json:n.SymbolKind.File,patterns:n.SymbolKind.Array,pattern:n.SymbolKind.Number,repository:n.SymbolKind.Object,repo:n.SymbolKind.Function,captures:n.SymbolKind.Field,beginCaptures:n.SymbolKind.Field,endCaptures:n.SymbolKind.Field,capture:n.SymbolKind.Number,match:n.SymbolKind.String,begin:n.SymbolKind.String,end:n.SymbolKind.String,while:n.SymbolKind.String,scopeName:n.SymbolKind.Variable,name:n.SymbolKind.String,name_display:n.SymbolKind.String,version:n.SymbolKind.String,schema:n.SymbolKind.String,fileTypes:n.SymbolKind.String,firstLineMatch:n.SymbolKind.String,foldingStartMarker:n.SymbolKind.String,foldingStopMarker:n.SymbolKind.String,uuid:n.SymbolKind.Number,injectionSelector:n.SymbolKind.String,injections:n.SymbolKind.Object,injection:n.SymbolKind.Number,include:n.SymbolKind.Variable,comment:n.SymbolKind.String,comment_slash:n.SymbolKind.String,object:n.SymbolKind.Object,array:n.SymbolKind.Array,item:n.SymbolKind.String,value:n.SymbolKind.Key,key:n.SymbolKind.Property,boolean:n.SymbolKind.Boolean,null:n.SymbolKind.Null,integer:n.SymbolKind.Number,string:n.SymbolKind.String,regex:n.SymbolKind.Event,"{":n.SymbolKind.Object,"}":n.SymbolKind.Object,"[":n.SymbolKind.Array,"]":n.SymbolKind.Array,",":n.SymbolKind.Property,":":n.SymbolKind.Property,'"':n.SymbolKind.Property,literal:n.SymbolKind.String,backslash:n.SymbolKind.Property},t.DocumentSymbolProvider={provideDocumentSymbols(e,t){const r=(0,s.getTrees)(e);let n=r.jsonTree.rootNode,a=0,i=o(n);const _=[],c=[],l=[];for(;;){let e=n.namedChild(a);if(e)"regex"==e.type&&(e=(0,s.getRegexNode)(r,e)??e),e.namedChildCount&&c.length<900?(_.push(n),c.push(a),l.push(i),i=o(e),n=e,a=0):(i.children.push(o(e)),a++);else{if(n=_.pop(),void 0===n)break;a=c.pop(),a++;const e=l.pop();e.children.push(i),i=e}}return[i]}}},341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferenceProvider=void 0;const n=r(398),s=r(329);t.ReferenceProvider={provideReferences(e,t,r,o){const a=(0,s.getTree)(e),i=(0,s.toPoint)(t);let _;_="\n\t\t\t;(json (scopeName (value) @scopeName))\n\t\t\t(include (value) @include)\n\t\t\t(repo (key) @repo)\n\t\t";const c=(0,s.queryNode)(a.rootNode,_,i);if(null==c)return;const l=c.node,u=l.text;_="(json (scopeName (value) @scopeName))";const d=(0,s.queryNode)(a.rootNode,_).pop().text;switch(c.name){case"repo":if("$self"==u||"$base"==u)return;_=`(include (value) @include (#eq? @include "#${u}"))(repo (key) @repo (#eq? @repo "${u}"))`,d&&u&&(_+=`(include (value) @include (#eq? @include "${d}#${u}"))`);break;case"include":if(""==u)return;if(l.childForFieldName("base"))_='(include (value) @include (#match? @include "^([^#]*#)?\\\\$base$"))';else{const e=l.childForFieldName("scopeName")?.text,t=l.childForFieldName("ruleName")?.text;e&&e!=d?_=t?`(include (value) @include (#eq? @include "${e}#${t}"))`:`(include (value) @include (#eq? @include "${e}"))(include (value) @include (#eq? @include "${e}#"))(include (value) @include (#eq? @include "${e}#$self"))`:l.childForFieldName("self")||e&&!t?(_='(include (value) @include (#match? @include "^#?\\\\$self$"))',d&&(_+=`(include (value) @include (#eq? @include "${d}"))(include (value) @include (#eq? @include "${d}#"))(include (value) @include (#eq? @include "${d}#$self"))`)):(_=`(include (value) @include (#eq? @include "#${t}"))(repo (key) @repo (#eq? @repo "${t}"))`,t&&(_+=`(include (value) @include (#eq? @include "${d}#${t}"))`))}break;default:return}const m=a.getLanguage().query(_).captures(a.rootNode),p=[],h=e.uri;for(const e of m)if("include"==e.name){const t=(0,s.toRange)(e.node),r=new n.Location(h,t);p.push(r)}if(0==p.length||"include"==c.name&&p.length<=1)for(const e of m)if("repo"==e.name){const t=(0,s.toRange)(e.node),r=new n.Location(h,t);p.push(r)}return p}}},126:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenameProvider=void 0;const n=r(398),s=r(329),o="\n\t(include (value (scopeName) @scopeName))\n\t(include (value (ruleName) @ruleName))\n\t;(json (scopeName (value) @root_scopeName))\n\t(repo (key) @repo)\n";t.RenameProvider={provideRenameEdits(e,t,r,a){const i=(0,s.getTrees)(e).jsonTree,_=(0,s.toPoint)(t),c=(0,s.queryNode)(i.rootNode,o,_);if(!c)return;const l=c.name,u=c.node,d=u.text,m=(0,s.toRange)(u),p=(0,s.queryNode)(i.rootNode,"(json (scopeName (value) @scopeName))").pop()?.node?.text,h=[],g=new n.WorkspaceEdit,f=e.uri;let w="";switch(l){case"ruleName":w+=`(repo (key) @repo (#eq? @repo "${d}"))`,w+=`(include (value (ruleName) @ruleName) @include (#eq? @include "#${d}"))`,p&&(w+=`(include (value (ruleName) @ruleName) @include (#eq? @include "${p}#${d}"))`);break;case"scopeName":w+=`(include (value (scopeName) @scopeName (#eq? @scopeName "${d}")))`,w+=`(json (scopeName (value) @scopeName (#eq? @scopeName "${d}")))`;break;case"repo":w+=`(include (value (ruleName) @ruleName) @include (#eq? @include "#${d}"))`,p&&(w+=`(include (value (ruleName) @ruleName) @include (#eq? @include "${p}#${d}"))`);const e=new n.TextEdit(m,r);h.push(e);break;default:return}const y=(0,s.queryNode)(i.rootNode,w);for(const e of y){if("include"==e.name)continue;const t=e.node,o=(0,s.toRange)(t),a=new n.TextEdit(o,r);h.push(a)}return g.set(f,h),g},prepareRename(e,t,r){const n=(0,s.getTrees)(e).jsonTree,a=(0,s.toPoint)(t),i=(0,s.queryNode)(n.rootNode,o,a);if(!i)return Promise.reject("Item not renamable");const _=i.node,c=_.text;return{range:(0,s.toRange)(_),placeholder:c}}}},628:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tokenizeFile=t.tokenizeLine=t.initTextMate=t.whileRuleId=t.endRuleId=void 0;const n=r(398),s=r(454),o=r(486),a=r(265);async function i(){return{createOnigScanner:e=>new o.OnigScanner(e),createOnigString:e=>new o.OnigString(e)}}async function _(e){for(const t of n.extensions.all){const r=t.packageJSON,o=r.contributes?.grammars;if(o)for(const r of o)if(r.scopeName==e){const e=r.path;if(e){const r=n.Uri.joinPath(t.extensionUri,e);if("untitled"!=r.scheme){const e=await n.workspace.openTextDocument(r);return s.parseRawGrammar(e.getText(),r.path)}}}}return n.window.showInformationMessage(`Unknown scopeName: ${e}`),console.log(`TextMate: Unknown scope name: ${e}`),null}let c;function l(e){for(const t of n.extensions.all){const r=t.packageJSON,n=r.contributes?.grammars;if(n)for(const t of n)if(t.language==e){const e=t.scopeName;if(e)return e}}return null}t.endRuleId=-1,t.whileRuleId=-2,t.initTextMate=function(e){const t={onigLib:i(),loadGrammar:_};c=new s.Registry(t)},t.tokenizeLine=async function(e,t){const r=l(e.languageId),n=await c.loadGrammar(r);let o,a=s.INITIAL;for(let r=0;r<=t;r++){const t=e.lineAt(r).text,s=n.tokenizeLine(t,a,15e3);a=s.ruleStack,o=s}return o},t.tokenizeFile=async function(e,t){const r=l(e.languageId),o=await c.loadGrammar(r);o.rules=[],o.lines=[];let i=s.INITIAL;if(t){for(let t=0;t<e.lineCount;t++)i=o.tokenizeLine(e.lineAt(t).text,i,15e3).ruleStack;o.rules=[]}let _=0;i=s.INITIAL;const u=performance.now();o.startTime=u;for(let t=0;t<e.lineCount;t++){const r=e.lineAt(t).text,n=o.tokenizeLine(r,i,15e3);o.rules.push(void 0),i=n.ruleStack,o.lines.push({tokens:n.tokens,stoppedEarly:n.stoppedEarly,time:performance.now()-u,lastRule:i.ruleId||1,rulesLength:_}),_=o.rules.length}return n.window.showInformationMessage(JSON.stringify(o,a.stringify)),o}},329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTreeSitter=t.regexParserLanguage=t.jsonParserLanguage=t.trueParent=t.toPoint=t.toRange=t.queryNode=t.getLastNode=t.getComment=t.getRegexNode=t.getTree=t.getTrees=void 0;const n=r(398),s=r(812),o=r(265),a={};function i(e,t,r,s){const o=e.tree.getLanguage().query(t);o.disableCapture("_ignore_");const a={startPosition:r,endPosition:s||r,matchLimit:1e4},i=o.matches(e,a);if(r&&!s){if(!1===s)return i.pop()?.captures?.pop();const e=new n.Position(r.row,r.column);for(;i.length;){const t=i.pop(),r=t?.captures;for(;r?.length;){const t=r.pop();if(_(t.node).contains(e))return t}}return null}let c=[];for(const e of i){const t=e.captures;c=c.concat(t)}return c}function _(e){if(!e)return null;const t=e.startPosition,r=e.endPosition;return new n.Range(t.row,t.column,r.row,r.column)}function c(e){return{row:e.line,column:e.character}}function l(e){const t=e.parent;return null==t?e:""!=e.text?t:t.parent}function u(e,t,r){if(!n.languages.match(o.DocumentSelector,e))return;const s=e.uri.toString();if(s in a)return void console.log("JSON TextMate: Why are we here?");const _=e.getText(),c=t.parse(_),l=i(c.rootNode,"(regex) @regex"),u={},d={};for(const e of l){const t=e.node,n={includedRanges:[{startPosition:t.startPosition,endPosition:t.endPosition,startIndex:t.startIndex,endIndex:t.endIndex}]},s=r.parse(_,null,n);u[t.id]=s,d[s.rootNode.id]=t}a[s]={jsonTree:c,regexTrees:u,regexNodes:d}}t.getTrees=function(e){const t="uri"in e?e.uri.toString():e.toString(),r=a[t];return r||(n.window.showInformationMessage(JSON.stringify(e)),n.window.showInformationMessage(JSON.stringify(a))),r},t.getTree=function(e){const t=e.uri.toString(),r=a[t]?.jsonTree;return r},t.getRegexNode=function(e,t){const r="number"==typeof t?t:t.id;if("uri"in e){const t=e.uri.toString(),n=a[t]?.regexTrees;return n[r].rootNode}if("scheme"in e){const t=e.toString(),n=a[t]?.regexTrees;return n[r].rootNode}return"regexTrees"in e?e.regexTrees[r].rootNode:e[r].rootNode},t.getComment=function(e){const t=i(l(e),'\n\t\t(comment (value) @comment (.not-eq? @comment ""))\n\t\t(comment_slash (value) @comment (.not-eq? @comment ""))\n\t')[0];return t?.node?.text?.replace(/\\(.)?/g,"$1")},t.getLastNode=function(e,t){const r=e.namedChildren;for(let e=r.length-1;e>=0;e--){const n=r[e];if(n.type==t)return n}},t.queryNode=i,t.toRange=_,t.toPoint=c,t.trueParent=l,t.initTreeSitter=async function(e){const r="undefined"==typeof navigator?void 0:{locateFile:()=>n.Uri.joinPath(e.extensionUri,"node_modules","web-tree-sitter","tree-sitter.wasm").toString(!0)};await s.init(r);const _=new s,l=n.Uri.joinPath(e.extensionUri,"out","tree-sitter-jsontm.wasm"),d="file"===l.scheme?l.fsPath:l.toString(!0),m=await s.Language.load(d);_.setLanguage(m),t.jsonParserLanguage=m;const p=new s,h=n.Uri.joinPath(e.extensionUri,"out","tree-sitter-regextm.wasm"),g="file"===h.scheme?h.fsPath:h.toString(!0),f=await s.Language.load(g);p.setLanguage(f),t.regexParserLanguage=f,n.workspace.textDocuments.forEach((e=>{u(e,_,p)})),e.subscriptions.push(n.workspace.onDidOpenTextDocument((e=>{u(e,_,p)}))),e.subscriptions.push(n.workspace.onDidChangeTextDocument((e=>{!function(e,t,r){const s=e.document;if(!n.languages.match(o.DocumentSelector,s))return;const _=s.uri.toString();if(!(_ in a))return n.window.showInformationMessage(JSON.stringify(s)),void u(s,t,r);const l=a[_].jsonTree,d=s.getText();for(const t of e.contentChanges){const e=t.rangeOffset,r=t.rangeOffset+t.rangeLength,n=t.rangeOffset+t.text.length,o=s.positionAt(e),a=s.positionAt(r),i=s.positionAt(n),_={startIndex:e,oldEndIndex:r,newEndIndex:n,startPosition:c(o),oldEndPosition:c(a),newEndPosition:c(i)};l.edit(_)}const m=t.parse(d,l),p=i(m.rootNode,"(regex) @regex"),h={},g={};for(const e of p){const t=e.node,n=t.id,s={includedRanges:[{startPosition:t.startPosition,endPosition:t.endPosition,startIndex:t.startIndex,endIndex:t.endIndex}]},o=r.parse(d,l,s);h[n]=o,g[o.rootNode.id]=t}const f=a[_].regexTrees;a[_]={jsonTree:m,regexTrees:h,regexNodes:g},l.delete();for(const e in f)f[e].delete()}(e,_,p)}))),e.subscriptions.push(n.workspace.onDidCloseTextDocument((e=>{const t=e.uri.toString();if(a[t]){a[t].jsonTree.delete();for(const e in a[t].regexTrees)a[t].regexTrees[e].delete();delete a[t]}})))}},265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=t.deactivate=t.activate=t.DocumentSelector=void 0;const n=r(398),s=r(329),o=r(131),a=r(628),i=r(881),_=r(66),c=r(104),l=r(126),u=r(341),d=r(481),m=r(419),p=r(789),h=r(99),g=r(93),f=r(714);t.DocumentSelector=[{language:"json-textmate"}],t.activate=async function(e){await(0,s.initTreeSitter)(e),await(0,o.initOniguruma)(e),(0,a.initTextMate)(e),(0,i.initDiagnostics)(e),(0,_.initCallStackView)(e),(0,c.initTokenColorCustomizations)(e),e.subscriptions.push(n.languages.registerRenameProvider(t.DocumentSelector,l.RenameProvider)),e.subscriptions.push(n.languages.registerReferenceProvider(t.DocumentSelector,u.ReferenceProvider)),e.subscriptions.push(n.languages.registerDefinitionProvider(t.DocumentSelector,d.DefinitionProvider)),e.subscriptions.push(n.languages.registerCallHierarchyProvider(t.DocumentSelector,m.CallHierarchyProvider)),e.subscriptions.push(n.languages.registerDocumentSymbolProvider(t.DocumentSelector,p.DocumentSymbolProvider)),e.subscriptions.push(n.languages.registerCompletionItemProvider(t.DocumentSelector,g.CompletionItemProvider,...g.triggerCharacters)),e.subscriptions.push(n.languages.registerDocumentHighlightProvider(t.DocumentSelector,h.DocumentHighlightProvider)),e.subscriptions.push(n.languages.registerDocumentFormattingEditProvider(t.DocumentSelector,f.DocumentFormattingEditProvider)),e.subscriptions.push(n.languages.registerDocumentRangeFormattingEditProvider(t.DocumentSelector,f.DocumentRangeFormattingEditProvider))},t.deactivate=function(){},t.stringify=function(e,t){return"function"==typeof t?"<function>":"symbol"==typeof t?"<symbol>":void 0===t?"<undefined>":null==t?null:e.startsWith("HEAP")?"<error>":t}},120:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UseOnigurumaFindOptions=t.DebugFlags=void 0,t.DebugFlags={InDebugMode:"undefined"!=typeof process&&!!process.env.VSCODE_TEXTMATE_DEBUG},t.UseOnigurumaFindOptions=!1},254:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyStateStackDiff=t.diffStateStacksRefEq=void 0;const n=r(229);t.diffStateStacksRefEq=function(e,t){let r=0;const n=[];let s=e,o=t;for(;s!==o;)s&&(!o||s.depth>=o.depth)?(r++,s=s.parent):(n.push(o.toStateStackFrame()),o=o.parent);return{pops:r,newFrames:n.reverse()}},t.applyStateStackDiff=function(e,t){let r=e;for(let e=0;e<t.pops;e++)r=r.parent;for(const e of t.newFrames)r=n.StateStackImpl.pushFrame(r,e);return r}},157:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.toOptionalTokenType=t.EncodedTokenAttributes=void 0,function(e){e.toBinaryStr=function(e){return e.toString(2).padStart(32,"0")},e.print=function(t){const r=e.getLanguageId(t),n=e.getTokenType(t),s=e.getFontStyle(t),o=e.getForeground(t),a=e.getBackground(t);console.log({languageId:r,tokenType:n,fontStyle:s,foreground:o,background:a})},e.getLanguageId=function(e){return(255&e)>>>0},e.getTokenType=function(e){return(768&e)>>>8},e.containsBalancedBrackets=function(e){return!!(1024&e)},e.getFontStyle=function(e){return(30720&e)>>>11},e.getForeground=function(e){return(16744448&e)>>>15},e.getBackground=function(e){return(4278190080&e)>>>24},e.set=function(t,r,n,s,o,a,i){let _=e.getLanguageId(t),c=e.getTokenType(t),l=e.containsBalancedBrackets(t)?1:0,u=e.getFontStyle(t),d=e.getForeground(t),m=e.getBackground(t);return 0!==r&&(_=r),8!==n&&(c=n),null!==s&&(l=s?1:0),-1!==o&&(u=o),0!==a&&(d=a),0!==i&&(m=i),(_|c<<8|l<<10|u<<11|d<<15|m<<24)>>>0}}(r||(t.EncodedTokenAttributes=r={})),t.toOptionalTokenType=function(e){return e}},785:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicScopeAttributesProvider=t.BasicScopeAttributes=void 0;const n=r(306);class s{languageId;tokenType;constructor(e,t){this.languageId=e,this.tokenType=t}}t.BasicScopeAttributes=s;class o{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,t){this._defaultAttributes=new s(e,8),this._embeddedLanguagesMatcher=new a(Object.entries(t||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return null===e?o._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new s(0,0);_getBasicScopeAttributes=new n.CachedFn((e=>{const t=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new s(t,r)}));_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const t=e.match(o.STANDARD_TOKEN_TYPE_REGEXP);if(!t)return 8;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/}t.BasicScopeAttributesProvider=o;class a{values;scopesRegExp;constructor(e){if(0===e.length)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map((([e,t])=>(0,n.escapeRegExpCharacters)(e)));t.sort(),t.reverse(),this.scopesRegExp=new RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const t=e.match(this.scopesRegExp);return t?this.values.get(t[1]):void 0}}},856:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineTokens=t.BalancedBracketSelectors=t.StateStackImpl=t.AttributedScopeStack=t.Grammar=t.createGrammar=void 0;const n=r(120),s=r(157),o=r(885),a=r(687),i=r(441),_=r(734),c=r(306),l=r(785),u=r(729);function d(e,t,r,n,s){const a=(0,o.createMatchers)(t,m),_=i.RuleFactory.getCompiledRuleId(r,n,s.repository);for(const r of a)e.push({debugSelector:t,matcher:r.matcher,ruleId:_,grammar:s,priority:r.priority})}function m(e,t){if(t.length<e.length)return!1;let r=0;return e.every((e=>{for(let n=r;n<t.length;n++)if(p(t[n],e))return r=n+1,!0;return!1}))}function p(e,t){if(!e)return!1;if(e===t)return!0;const r=t.length;return e.length>r&&e.substr(0,r)===t&&"."===e[r]}t.createGrammar=function(e,t,r,n,s,o,a,i){return new h(e,t,r,n,s,o,a,i)};class h{_rootScopeName;balancedBracketSelectors;_onigLib;_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}constructor(e,t,r,n,s,a,i,_){if(this._rootScopeName=e,this.balancedBracketSelectors=a,this._onigLib=_,this._basicScopeAttributesProvider=new l.BasicScopeAttributesProvider(r,n),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=i,this._grammar=g(t,null),this._injections=null,this._tokenTypeMatchers=[],s)for(const e of Object.keys(s)){const t=(0,o.createMatchers)(e,m);for(const r of t)this._tokenTypeMatchers.push({matcher:r.matcher,type:s[e]})}}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e=[],t=this._rootScopeName,r=(e=>e===this._rootScopeName?this._grammar:this.getExternalGrammar(e))(t);if(r){const n=r.injections;if(n)for(let t in n)d(e,t,n[t],this,r);const s=this._grammarRepository.injections(t);s&&s.forEach((t=>{const r=this.getExternalGrammar(t);if(r){const t=r.injectionSelector;t&&d(e,t,r,this,r)}}))}return e.sort(((e,t)=>e.priority-t.priority)),e}getInjections(){if(null===this._injections&&(this._injections=this._collectInjections(),n.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const e of this._injections)console.log(`  - ${e.debugSelector}`)}return this._injections}registerRule(e){const t=++this._lastRuleId,r=e((0,i.ruleIdFromNumber)(t));return this._ruleId2desc[t]=r,r}getRule(e){return this._ruleId2desc[(0,i.ruleIdToNumber)(e)]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=g(r,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,r=0){const n=this._tokenize(e,t,!1,r);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}tokenizeLine2(e,t,r=0){const n=this._tokenize(e,t,!0,r);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}_tokenize(e,t,r,n){let o;if(-1===this._rootId&&(this._rootId=i.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),t&&t!==w.NULL)o=!1,t.reset();else{o=!0;const e=this._basicScopeAttributesProvider.getDefaultAttributes(),r=this.themeProvider.getDefaults(),n=s.EncodedTokenAttributes.set(0,e.languageId,e.tokenType,null,r.fontStyle,r.foregroundId,r.backgroundId),a=this.getRule(this._rootId).getName(null,null);let i;i=a?f.createRootAndLookUpScopeName(a,n,this):f.createRoot("unknown",n),t=new w(null,this._rootId,-1,-1,!1,null,i,i)}e+="\n";const _=this.createOnigString(e),c=_.content.length,l=new y(r,e,this._tokenTypeMatchers,this.balancedBracketSelectors),d=(0,u._tokenizeString)(this,_,o,0,t,l,!0,n);return(0,a.disposeOnigString)(_),{lineLength:c,lineTokens:l,ruleStack:d.stack,stoppedEarly:d.stoppedEarly}}}function g(e,t){return(e=(0,c.clone)(e)).repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}t.Grammar=h;class f{parent;scopePath;tokenAttributes;static fromExtension(e,t){let r=e,n=e?.scopePath??null;for(const e of t)n=_.ScopeStack.push(n,e.scopeNames),r=new f(r,n,e.encodedTokenAttributes);return r}static createRoot(e,t){return new f(null,new _.ScopeStack(null,e),t)}static createRootAndLookUpScopeName(e,t,r){const n=r.getMetadataForScope(e),s=new _.ScopeStack(null,e),o=r.themeProvider.themeMatch(s),a=f.mergeAttributes(t,n,o);return new f(null,s,a)}get scopeName(){return this.scopePath.scopeName}constructor(e,t,r){this.parent=e,this.scopePath=t,this.tokenAttributes=r}toString(){return this.getScopeNames().join(" ")}equals(e){return f.equals(this,e)}static equals(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.scopeName!==t.scopeName||e.tokenAttributes!==t.tokenAttributes)return!1;e=e.parent,t=t.parent}}static mergeAttributes(e,t,r){let n=-1,o=0,a=0;return null!==r&&(n=r.fontStyle,o=r.foregroundId,a=r.backgroundId),s.EncodedTokenAttributes.set(e,t.languageId,t.tokenType,null,n,o,a)}pushAttributed(e,t){if(null===e)return this;if(-1===e.indexOf(" "))return f._pushAttributed(this,e,t);const r=e.split(/ /g);let n=this;for(const e of r)n=f._pushAttributed(n,e,t);return n}static _pushAttributed(e,t,r){const n=r.getMetadataForScope(t),s=e.scopePath.push(t),o=r.themeProvider.themeMatch(s),a=f.mergeAttributes(e.tokenAttributes,n,o);return new f(e,s,a)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const t=[];let r=this;for(;r&&r!==e;)t.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?t.reverse():void 0}}t.AttributedScopeStack=f;class w{parent;ruleId;beginRuleCapturedEOL;endRule;nameScopesList;contentNameScopesList;_stackElementBrand=void 0;static NULL=new w(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;constructor(e,t,r,n,s,o,a,i){this.parent=e,this.ruleId=t,this.beginRuleCapturedEOL=s,this.endRule=o,this.nameScopesList=a,this.contentNameScopesList=i,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=n}equals(e){return null!==e&&w._equals(this,e)}static _equals(e,t){return e===t||!!this._structuralEquals(e,t)&&f.equals(e.contentNameScopesList,t.contentNameScopesList)}static _structuralEquals(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;e=e.parent,t=t.parent}}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){w._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,t,r,n,s,o,a){return new w(this,e,t,r,n,s,o,a)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,t}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new w(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let t=this;for(;t&&t._enterPos===e._enterPos;){if(t.ruleId===e.ruleId)return!0;t=t.parent}return!1}toStateStackFrame(){return{ruleId:(0,i.ruleIdToNumber)(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,t){const r=f.fromExtension(e?.nameScopesList??null,t.nameScopesList);return new w(e,(0,i.ruleIdFromNumber)(t.ruleId),t.enterPos??-1,t.anchorPos??-1,t.beginRuleCapturedEOL,t.endRule,r,f.fromExtension(r,t.contentNameScopesList))}}t.StateStackImpl=w,t.BalancedBracketSelectors=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(e,t){this.balancedBracketScopes=e.flatMap((e=>"*"===e?(this.allowAny=!0,[]):(0,o.createMatchers)(e,m).map((e=>e.matcher)))),this.unbalancedBracketScopes=t.flatMap((e=>(0,o.createMatchers)(e,m).map((e=>e.matcher))))}get matchesAlways(){return this.allowAny&&0===this.unbalancedBracketScopes.length}get matchesNever(){return 0===this.balancedBracketScopes.length&&!this.allowAny}match(e){for(const t of this.unbalancedBracketScopes)if(t(e))return!1;for(const t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}};class y{balancedBracketSelectors;_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;constructor(e,t,r,s){this.balancedBracketSelectors=s,this._emitBinaryTokens=e,this._tokenTypeOverrides=r,n.DebugFlags.InDebugMode?this._lineText=t:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let r=e?.tokenAttributes??0,o=!1;if(this.balancedBracketSelectors?.matchesAlways&&(o=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const t=e?.getScopeNames()??[];for(const e of this._tokenTypeOverrides)e.matcher(t)&&(r=s.EncodedTokenAttributes.set(r,0,(0,s.toOptionalTokenType)(e.type),null,-1,0,0));this.balancedBracketSelectors&&(o=this.balancedBracketSelectors.match(t))}if(o&&(r=s.EncodedTokenAttributes.set(r,0,8,o,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r)return void(this._lastTokenEndIndex=t);if(n.DebugFlags.InDebugMode){const r=e?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,t).replace(/\n$/,"\\n")+"|");for(let e=0;e<r.length;e++)console.log("      * "+r[e])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),void(this._lastTokenEndIndex=t)}const r=e?.getScopeNames()??[];if(n.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,t).replace(/\n$/,"\\n")+"|");for(let e=0;e<r.length;e++)console.log("      * "+r[e])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:r}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);const r=new Uint32Array(this._binaryTokens.length);for(let e=0,t=this._binaryTokens.length;e<t;e++)r[e]=this._binaryTokens[e];return r}}t.LineTokens=y},901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInclude=t.TopLevelRepositoryReference=t.TopLevelReference=t.RelativeReference=t.SelfReference=t.BaseReference=t.ScopeDependencyProcessor=t.ExternalReferenceCollector=t.TopLevelRepositoryRuleReference=t.TopLevelRuleReference=void 0;const n=r(306);class s{scopeName;constructor(e){this.scopeName=e}toKey(){return this.scopeName}}t.TopLevelRuleReference=s;class o{scopeName;ruleName;constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}}t.TopLevelRepositoryRuleReference=o;class a{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(e){const t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}}function i(e,t,r,n){const o=r.lookup(e.scopeName);if(!o){if(e.scopeName===t)throw new Error(`No grammar provided for <${t}>`);return}const a=r.lookup(t);e instanceof s?c({baseGrammar:a,selfGrammar:o},n):_(e.ruleName,{baseGrammar:a,selfGrammar:o,repository:o.repository},n);const i=r.injections(e.scopeName);if(i)for(const e of i)n.add(new s(e))}function _(e,t,r){t.repository&&t.repository[e]&&l([t.repository[e]],t,r)}function c(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&l(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&l(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function l(e,t,r){for(const a of e){if(r.visitedRule.has(a))continue;r.visitedRule.add(a);const e=a.repository?(0,n.mergeObjects)({},t.repository,a.repository):t.repository;Array.isArray(a.patterns)&&l(a.patterns,{...t,repository:e},r);const i=a.include;if(!i)continue;const u=g(i);switch(u.kind){case 0:c({...t,selfGrammar:t.baseGrammar},r);break;case 1:c(t,r);break;case 2:_(u.ruleName,{...t,repository:e},r);break;case 3:case 4:const n=u.scopeName===t.selfGrammar.scopeName?t.selfGrammar:u.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(n){const s={baseGrammar:t.baseGrammar,selfGrammar:n,repository:e};4===u.kind?_(u.ruleName,s,r):c(s,r)}else 4===u.kind?r.add(new o(u.scopeName,u.ruleName)):r.add(new s(u.scopeName))}}}t.ExternalReferenceCollector=a,t.ScopeDependencyProcessor=class{repo;initialScopeName;seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;constructor(e,t){this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new s(this.initialScopeName)]}processQueue(){const e=this.Q;this.Q=[];const t=new a;for(const r of e)i(r,this.initialScopeName,this.repo,t);for(const e of t.references)if(e instanceof s){if(this.seenFullScopeRequests.has(e.scopeName))continue;this.seenFullScopeRequests.add(e.scopeName),this.Q.push(e)}else{if(this.seenFullScopeRequests.has(e.scopeName))continue;if(this.seenPartialScopeRequests.has(e.toKey()))continue;this.seenPartialScopeRequests.add(e.toKey()),this.Q.push(e)}}};class u{kind=0}t.BaseReference=u;class d{kind=1}t.SelfReference=d;class m{ruleName;kind=2;constructor(e){this.ruleName=e}}t.RelativeReference=m;class p{scopeName;kind=3;constructor(e){this.scopeName=e}}t.TopLevelReference=p;class h{scopeName;ruleName;kind=4;constructor(e,t){this.scopeName=e,this.ruleName=t}}function g(e){if("$base"===e)return new u;if("$self"===e)return new d;const t=e.indexOf("#");if(-1===t)return new p(e);if(0===t)return new m(e.substring(1));{const r=e.substring(0,t),n=e.substring(t+1);return new h(r,n)}}t.TopLevelRepositoryReference=h,t.parseInclude=g},229:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(856),t)},729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStackElement=t._tokenizeString=void 0;const n=r(120),s=r(687),o=r(441),a=r(306);class i{stack;stoppedEarly;constructor(e,t){this.stack=e,this.stoppedEarly=t}}function _(e,t,r,s,_,u,m,p){const h=t.content.length;let g=!1,f=-1;if(m){const a=function(e,t,r,s,a,i){let _=a.beginRuleCapturedEOL?0:-1;const c=[];for(let t=a;t;t=t.pop()){const r=t.getRule(e);r instanceof o.BeginWhileRule&&c.push({rule:r,stack:t})}for(let u=c.pop();u;u=c.pop()){const{ruleScanner:c,findOptions:m}=l(u.rule,e,u.stack.endRule,r,s===_),p=c.findNextMatchSync(t,s,m);if(n.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(c.toString())),!p){n.DebugFlags.InDebugMode&&console.log("  popping "+u.rule.debugName+" - "+u.rule.debugWhileRegExp),a=u.stack.pop();break}if(p.ruleId!==o.whileRuleId){a=u.stack.pop();break}p.captureIndices&&p.captureIndices.length&&(i.produce(u.stack,p.captureIndices[0].start),d(e,t,r,u.stack,i,u.rule.whileCaptures,p.captureIndices),i.produce(u.stack,p.captureIndices[0].end),_=p.captureIndices[0].end,p.captureIndices[0].end>s&&(s=p.captureIndices[0].end,r=!1))}return{stack:a,linePos:s,anchorPosition:_,isFirstLine:r}}(e,t,r,s,_,u);_=a.stack,s=a.linePos,r=a.isFirstLine,f=a.anchorPosition}const w=Date.now();for(;!g;){if(0!==p&&Date.now()-w>p)return new i(_,!0);y()}return new i(_,!1);function y(){n.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${s}: |${t.content.substr(s).replace(/\n$/,"\\n")}|`));const i=function(e,t,r,s,o,i){const _=function(e,t,r,s,o,i){const _=o.getRule(e),{ruleScanner:l,findOptions:u}=c(_,e,o.endRule,r,s===i);let d=0;n.DebugFlags.InDebugMode&&(d=(0,a.performanceNow)());const m=l.findNextMatchSync(t,s,u);if(n.DebugFlags.InDebugMode){const e=(0,a.performanceNow)()-d;e>5&&console.warn(`Rule ${_.debugName} (${_.id}) matching took ${e} against '${t}'`),console.log(`  scanning for (linePos: ${s}, anchorPosition: ${i})`),console.log(l.toString()),m&&console.log(`matched rule id: ${m.ruleId} from ${m.captureIndices[0].start} to ${m.captureIndices[0].end}`)}return m?{captureIndices:m.captureIndices,matchedRuleId:m.ruleId}:null}(e,t,r,s,o,i),l=e.getInjections();if(0===l.length)return _;const u=function(e,t,r,s,o,a,i){let _,l=Number.MAX_VALUE,u=null,d=0;const m=a.contentNameScopesList.getScopeNames();for(let a=0,p=e.length;a<p;a++){const p=e[a];if(!p.matcher(m))continue;const h=t.getRule(p.ruleId),{ruleScanner:g,findOptions:f}=c(h,t,null,s,o===i),w=g.findNextMatchSync(r,o,f);if(!w)continue;n.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${p.debugSelector}`),console.log(g.toString()));const y=w.captureIndices[0].start;if(!(y>=l)&&(l=y,u=w.captureIndices,_=w.ruleId,d=p.priority,l===o))break}return u?{priorityMatch:-1===d,captureIndices:u,matchedRuleId:_}:null}(l,e,t,r,s,o,i);if(!u)return _;if(!_)return u;const d=_.captureIndices[0].start,m=u.captureIndices[0].start;return m<d||u.priorityMatch&&m===d?u:_}(e,t,r,s,_,f);if(!i)return n.DebugFlags.InDebugMode&&console.log("  no more matches."),u.produce(_,h),void(g=!0);const l=i.captureIndices,m=i.matchedRuleId,p=!!(l&&l.length>0)&&l[0].end>s;if(m===o.endRuleId){var w=_.getRule(e);n.DebugFlags.InDebugMode&&console.log("  popping "+w.debugName+" - "+w.debugEndRegExp),u.produce(_,l[0].start),_=_.withContentNameScopesList(_.nameScopesList),d(e,t,r,_,u,w.endCaptures,l),u.produce(_,l[0].end);const o=_;if(_=_.parent,f=o.getAnchorPos(),!p&&o.getEnterPos()===s)return n.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),_=o,u.produce(_,h),void(g=!0)}else{const a=e.getRule(m);u.produce(_,l[0].start);const i=_,c=a.getName(t.content,l),w=_.contentNameScopesList.pushAttributed(c,e);if(_=_.push(m,s,f,l[0].end===h,null,w,w),a instanceof o.BeginEndRule){const s=a;n.DebugFlags.InDebugMode&&console.log("  pushing "+s.debugName+" - "+s.debugBeginRegExp),d(e,t,r,_,u,s.beginCaptures,l),u.produce(_,l[0].end),f=l[0].end;const o=s.getContentName(t.content,l),c=w.pushAttributed(o,e);if(_=_.withContentNameScopesList(c),s.endHasBackReferences&&(_=_.withEndRule(s.getEndWithResolvedBackReferences(t.content,l))),!p&&i.hasSameRuleAs(_))return n.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),_=_.pop(),u.produce(_,h),void(g=!0)}else if(a instanceof o.BeginWhileRule){const s=a;n.DebugFlags.InDebugMode&&console.log("  pushing "+s.debugName),d(e,t,r,_,u,s.beginCaptures,l),u.produce(_,l[0].end),f=l[0].end;const o=s.getContentName(t.content,l),c=w.pushAttributed(o,e);if(_=_.withContentNameScopesList(c),s.whileHasBackReferences&&(_=_.withEndRule(s.getWhileWithResolvedBackReferences(t.content,l))),!p&&i.hasSameRuleAs(_))return n.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),_=_.pop(),u.produce(_,h),void(g=!0)}else{const s=a;if(n.DebugFlags.InDebugMode&&console.log("  matched "+s.debugName+" - "+s.debugMatchRegExp),d(e,t,r,_,u,s.captures,l),u.produce(_,l[0].end),_=_.pop(),!p)return n.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),_=_.safePop(),u.produce(_,h),void(g=!0)}}l[0].end>s&&(s=l[0].end,r=!1),i&&e.rules.push({captureIndices:l,matchedRuleId:-1==m?-w.id:m,anchorPosition:f,time:performance.now()})}}function c(e,t,r,s,o){return n.UseOnigurumaFindOptions?{ruleScanner:e.compile(t,r),findOptions:u(s,o)}:{ruleScanner:e.compileAG(t,r,s,o),findOptions:0}}function l(e,t,r,s,o){return n.UseOnigurumaFindOptions?{ruleScanner:e.compileWhile(t,r),findOptions:u(s,o)}:{ruleScanner:e.compileWhileAG(t,r,s,o),findOptions:0}}function u(e,t){let r=0;return e||(r|=1),t||(r|=4),r}function d(e,t,r,n,o,a,i){if(0===a.length)return;const c=t.content,l=Math.min(a.length,i.length),u=[],d=i[0].end;for(let t=0;t<l;t++){const l=a[t];if(null===l)continue;const p=i[t];if(0===p.length)continue;if(p.start>d)break;for(;u.length>0&&u[u.length-1].endPos<=p.start;)o.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop();if(u.length>0?o.produceFromScopes(u[u.length-1].scopes,p.start):o.produce(n,p.start),l.retokenizeCapturedWithRuleId){const t=l.getName(c,i),a=n.contentNameScopesList.pushAttributed(t,e),u=l.getContentName(c,i),d=a.pushAttributed(u,e),m=n.push(l.retokenizeCapturedWithRuleId,p.start,-1,!1,null,a,d),h=e.createOnigString(c.substring(0,p.end));_(e,h,r&&0===p.start,p.start,m,o,!1,0),(0,s.disposeOnigString)(h);continue}const h=l.getName(c,i);if(null!==h){const t=(u.length>0?u[u.length-1].scopes:n.contentNameScopesList).pushAttributed(h,e);u.push(new m(t,p.end))}}for(;u.length>0;)o.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop()}t._tokenizeString=_;class m{scopes;endPos;constructor(e,t){this.scopes=e,this.endPos=t}}t.LocalStackElement=m},817:(e,t)=>{"use strict";function r(e,t){throw new Error("Near offset "+e.pos+": "+t+" ~~~"+e.source.substr(e.pos,50)+"~~~")}Object.defineProperty(t,"__esModule",{value:!0}),t.parseJSON=void 0,t.parseJSON=function(e,t,a){let i=new n(e),_=new s,c=0,l=null,u=[],d=[];function m(){u.push(c),d.push(l)}function p(){c=u.pop(),l=d.pop()}function h(e){r(i,e)}for(;o(i,_);){if(0===c){if(null!==l&&h("too many constructs in root"),3===_.type){l={},a&&(l.$vscodeTextmateLocation=_.toLocation(t)),m(),c=1;continue}if(2===_.type){l=[],m(),c=4;continue}h("unexpected token in root")}if(2===c){if(5===_.type){p();continue}if(7===_.type){c=3;continue}h("expected , or }")}if(1===c||3===c){if(1===c&&5===_.type){p();continue}if(1===_.type){let e=_.value;if(o(i,_)&&6===_.type||h("expected colon"),o(i,_)||h("expected value"),c=2,1===_.type){l[e]=_.value;continue}if(8===_.type){l[e]=null;continue}if(9===_.type){l[e]=!0;continue}if(10===_.type){l[e]=!1;continue}if(11===_.type){l[e]=parseFloat(_.value);continue}if(2===_.type){let t=[];l[e]=t,m(),c=4,l=t;continue}if(3===_.type){let r={};a&&(r.$vscodeTextmateLocation=_.toLocation(t)),l[e]=r,m(),c=1,l=r;continue}}h("unexpected token in dict")}if(5===c){if(4===_.type){p();continue}if(7===_.type){c=6;continue}h("expected , or ]")}if(4===c||6===c){if(4===c&&4===_.type){p();continue}if(c=5,1===_.type){l.push(_.value);continue}if(8===_.type){l.push(null);continue}if(9===_.type){l.push(!0);continue}if(10===_.type){l.push(!1);continue}if(11===_.type){l.push(parseFloat(_.value));continue}if(2===_.type){let e=[];l.push(e),m(),c=4,l=e;continue}if(3===_.type){let e={};a&&(e.$vscodeTextmateLocation=_.toLocation(t)),l.push(e),m(),c=1,l=e;continue}h("unexpected token in array")}h("unknown state")}return 0!==d.length&&h("unclosed constructs"),l};class n{source;pos;len;line;char;constructor(e){this.source=e,this.pos=0,this.len=e.length,this.line=1,this.char=0}}class s{value;type;offset;len;line;char;constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(e){return{filename:e,line:this.line,char:this.char}}}function o(e,t){t.value=null,t.type=0,t.offset=-1,t.len=-1,t.line=-1,t.char=-1;let n,s=e.source,o=e.pos,a=e.len,i=e.line,_=e.char;for(;;){if(o>=a)return!1;if(n=s.charCodeAt(o),32!==n&&9!==n&&13!==n){if(10!==n)break;o++,i++,_=0}else o++,_++}if(t.offset=o,t.line=i,t.char=_,34===n){for(t.type=1,o++,_++;;){if(o>=a)return!1;if(n=s.charCodeAt(o),o++,_++,92!==n){if(34===n)break}else o++,_++}t.value=s.substring(t.offset+1,o-1).replace(/\\u([0-9A-Fa-f]{4})/g,((e,t)=>String.fromCodePoint(parseInt(t,16)))).replace(/\\(.)/g,((t,n)=>{switch(n){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:r(e,"invalid escape sequence")}throw new Error("unreachable")}))}else if(91===n)t.type=2,o++,_++;else if(123===n)t.type=3,o++,_++;else if(93===n)t.type=4,o++,_++;else if(125===n)t.type=5,o++,_++;else if(58===n)t.type=6,o++,_++;else if(44===n)t.type=7,o++,_++;else if(110===n){if(t.type=8,o++,_++,n=s.charCodeAt(o),117!==n)return!1;if(o++,_++,n=s.charCodeAt(o),108!==n)return!1;if(o++,_++,n=s.charCodeAt(o),108!==n)return!1;o++,_++}else if(116===n){if(t.type=9,o++,_++,n=s.charCodeAt(o),114!==n)return!1;if(o++,_++,n=s.charCodeAt(o),117!==n)return!1;if(o++,_++,n=s.charCodeAt(o),101!==n)return!1;o++,_++}else if(102===n){if(t.type=10,o++,_++,n=s.charCodeAt(o),97!==n)return!1;if(o++,_++,n=s.charCodeAt(o),108!==n)return!1;if(o++,_++,n=s.charCodeAt(o),115!==n)return!1;if(o++,_++,n=s.charCodeAt(o),101!==n)return!1;o++,_++}else for(t.type=11;;){if(o>=a)return!1;if(n=s.charCodeAt(o),!(46===n||n>=48&&n<=57||101===n||69===n||45===n||43===n))break;o++,_++}return t.len=o-t.offset,null===t.value&&(t.value=s.substr(t.offset,t.len)),e.pos=o,e.line=i,e.char=_,!0}},454:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.applyStateStackDiff=t.diffStateStacksRefEq=t.parseRawGrammar=t.INITIAL=t.Registry=void 0;const o=r(229),a=r(519),i=r(476),_=r(734),c=r(901),l=r(254);Object.defineProperty(t,"applyStateStackDiff",{enumerable:!0,get:function(){return l.applyStateStackDiff}}),Object.defineProperty(t,"diffStateStacksRefEq",{enumerable:!0,get:function(){return l.diffStateStacksRefEq}}),s(r(687),t),t.Registry=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new i.SyncRegistry(_.Theme.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,t){this._syncRegistry.setTheme(_.Theme.createFromRawTheme(e,t))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,t,r){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,t,r){return this._loadGrammar(e,t,r.embeddedLanguages,r.tokenTypes,new o.BalancedBracketSelectors(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}async _loadGrammar(e,t,r,n,s){const o=new c.ScopeDependencyProcessor(this._syncRegistry,e);for(;o.Q.length>0;)await Promise.all(o.Q.map((e=>this._loadSingleGrammar(e.scopeName)))),o.processQueue();return this._grammarForScopeName(e,t,r,n,s)}async _loadSingleGrammar(e){return this._ensureGrammarCache.has(e)||this._ensureGrammarCache.set(e,this._doLoadSingleGrammar(e)),this._ensureGrammarCache.get(e)}async _doLoadSingleGrammar(e){const t=await this._options.loadGrammar(e);if(t){const r="function"==typeof this._options.getInjections?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(t,r)}}async addGrammar(e,t=[],r=0,n=null){return this._syncRegistry.addGrammar(e,t),await this._grammarForScopeName(e.scopeName,r,n)}_grammarForScopeName(e,t=0,r=null,n=null,s=null){return this._syncRegistry.grammarForScopeName(e,t,r,n,s)}},t.INITIAL=o.StateStackImpl.NULL,t.parseRawGrammar=a.parseRawGrammar},885:(e,t)=>{"use strict";function r(e){return!!e&&!!e.match(/[\w\.:]+/)}Object.defineProperty(t,"__esModule",{value:!0}),t.createMatchers=void 0,t.createMatchers=function(e,t){const n=[],s=function(e){let t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,r=t.exec(e);return{next:()=>{if(!r)return null;const n=r[0];return r=t.exec(e),n}}}(e);let o=s.next();for(;null!==o;){let e=0;if(2===o.length&&":"===o.charAt(1)){switch(o.charAt(0)){case"R":e=1;break;case"L":e=-1;break;default:console.log(`Unknown priority ${o} in scope selector`)}o=s.next()}let t=i();if(n.push({matcher:t,priority:e}),","!==o)break;o=s.next()}return n;function a(){if("-"===o){o=s.next();const e=a();return t=>!!e&&!e(t)}if("("===o){o=s.next();const e=function(){const e=[];let t=i();for(;t&&(e.push(t),"|"===o||","===o);){do{o=s.next()}while("|"===o||","===o);t=i()}return t=>e.some((e=>e(t)))}();return")"===o&&(o=s.next()),e}if(r(o)){const e=[];do{e.push(o),o=s.next()}while(r(o));return r=>t(e,r)}return null}function i(){const e=[];let t=a();for(;t;)e.push(t),t=a();return t=>e.every((e=>e(t)))}}},687:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disposeOnigString=void 0,t.disposeOnigString=function(e){"function"==typeof e.dispose&&e.dispose()}},519:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRawGrammar=void 0;const n=r(935),s=r(120),o=r(817);t.parseRawGrammar=function(e,t=null){return null!==t&&/\.json$/.test(t)?(r=e,a=t,s.DebugFlags.InDebugMode?(0,o.parseJSON)(r,a,!0):JSON.parse(r)):function(e,t){return s.DebugFlags.InDebugMode?n.parseWithLocation(e,t,"$vscodeTextmateLocation"):n.parsePLIST(e)}(e,t);var r,a}},935:(e,t)=>{"use strict";function r(e,t,r){const n=e.length;let s=0,o=1,a=0;function i(t){if(null===r)s+=t;else for(;t>0;)10===e.charCodeAt(s)?(s++,o++,a=0):(s++,a++),t--}function _(e){null===r?s=e:i(e-s)}function c(){for(;s<n;){let t=e.charCodeAt(s);if(32!==t&&9!==t&&13!==t&&10!==t)break;i(1)}}function l(t){return e.substr(s,t.length)===t&&(i(t.length),!0)}function u(t){let r=e.indexOf(t,s);_(-1!==r?r+t.length:n)}function d(t){let r=e.indexOf(t,s);if(-1!==r){let n=e.substring(s,r);return _(r+t.length),n}{let t=e.substr(s);return _(n),t}}n>0&&65279===e.charCodeAt(0)&&(s=1);let m=0,p=null,h=[],g=[],f=null;function w(e,t){h.push(m),g.push(p),m=e,p=t}function y(){if(0===h.length)return b("illegal state stack");m=h.pop(),p=g.pop()}function b(t){throw new Error("Near offset "+s+": "+t+" ~~~"+e.substr(s,50)+"~~~")}const S=function(){if(null===f)return b("missing <key>");let e={};null!==r&&(e[r]={filename:t,line:o,char:a}),p[f]=e,f=null,w(1,e)},E=function(){if(null===f)return b("missing <key>");let e=[];p[f]=e,f=null,w(2,e)},x=function(){let e={};null!==r&&(e[r]={filename:t,line:o,char:a}),p.push(e),w(1,e)},N=function(){let e=[];p.push(e),w(2,e)};function T(){if(1!==m)return b("unexpected </dict>");y()}function R(){return 1===m||2!==m?b("unexpected </array>"):void y()}function C(e){if(1===m){if(null===f)return b("missing <key>");p[f]=e,f=null}else 2===m?p.push(e):p=e}function v(e){if(isNaN(e))return b("cannot parse float");if(1===m){if(null===f)return b("missing <key>");p[f]=e,f=null}else 2===m?p.push(e):p=e}function I(e){if(isNaN(e))return b("cannot parse integer");if(1===m){if(null===f)return b("missing <key>");p[f]=e,f=null}else 2===m?p.push(e):p=e}function k(e){if(1===m){if(null===f)return b("missing <key>");p[f]=e,f=null}else 2===m?p.push(e):p=e}function M(e){if(1===m){if(null===f)return b("missing <key>");p[f]=e,f=null}else 2===m?p.push(e):p=e}function P(e){if(1===m){if(null===f)return b("missing <key>");p[f]=e,f=null}else 2===m?p.push(e):p=e}function A(){let e=d(">"),t=!1;return 47===e.charCodeAt(e.length-1)&&(t=!0,e=e.substring(0,e.length-1)),{name:e.trim(),isClosed:t}}function F(e){if(e.isClosed)return"";let t=d("</");return u(">"),t.replace(/&#([0-9]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,10))})).replace(/&#x([0-9a-f]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,(function(e){switch(e){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return e}))}for(;s<n&&(c(),!(s>=n));){const _=e.charCodeAt(s);if(i(1),60!==_)return b("expected <");if(s>=n)return b("unexpected end of input");const d=e.charCodeAt(s);if(63===d){i(1),u("?>");continue}if(33===d){if(i(1),l("--")){u("--\x3e");continue}u(">");continue}if(47===d){if(i(1),c(),l("plist")){u(">");continue}if(l("dict")){u(">"),T();continue}if(l("array")){u(">"),R();continue}return b("unexpected closed tag")}let h=A();switch(h.name){case"dict":1===m?S():2===m?x():(p={},null!==r&&(p[r]={filename:t,line:o,char:a}),w(1,p)),h.isClosed&&T();continue;case"array":1===m?E():2===m?N():(p=[],w(2,p)),h.isClosed&&R();continue;case"key":O=F(h),1!==m?b("unexpected <key>"):null!==f?b("too many <key>"):f=O;continue;case"string":C(F(h));continue;case"real":v(parseFloat(F(h)));continue;case"integer":I(parseInt(F(h),10));continue;case"date":k(new Date(F(h)));continue;case"data":M(F(h));continue;case"true":F(h),P(!0);continue;case"false":F(h),P(!1);continue}if(!/^plist/.test(h.name))return b("unexpected opened tag "+h.name)}var O;return p}Object.defineProperty(t,"__esModule",{value:!0}),t.parsePLIST=t.parseWithLocation=void 0,t.parseWithLocation=function(e,t,n){return r(e,t,n)},t.parsePLIST=function(e){return r(e,null,null)}},476:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncRegistry=void 0;const n=r(229);t.SyncRegistry=class{_onigLibPromise;_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;constructor(e,t){this._onigLibPromise=t,this._theme=e}dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}async grammarForScopeName(e,t,r,s,o){if(!this._grammars.has(e)){let a=this._rawGrammars.get(e);if(!a)return null;this._grammars.set(e,(0,n.createGrammar)(e,a,t,r,s,o,this,await this._onigLibPromise))}return this._grammars.get(e)}}},441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompiledRule=t.RegExpSourceList=t.RegExpSource=t.RuleFactory=t.BeginWhileRule=t.BeginEndRule=t.IncludeOnlyRule=t.MatchRule=t.CaptureRule=t.Rule=t.ruleIdToNumber=t.ruleIdFromNumber=t.whileRuleId=t.endRuleId=void 0;const n=r(306),s=r(901),o=/\\(\d+)/,a=/\\(\d+)/g;Symbol("RuleId"),t.endRuleId=-1,t.whileRuleId=-2,t.ruleIdFromNumber=function(e){return e},t.ruleIdToNumber=function(e){return e};class i{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(e,t,r,s){this.$location=e,this.id=t,this._name=r||null,this._nameIsCapturing=n.RegexSource.hasCaptures(this._name),this._contentName=s||null,this._contentNameIsCapturing=n.RegexSource.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${(0,n.basename)(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return this._nameIsCapturing&&null!==this._name&&null!==e&&null!==t?n.RegexSource.replaceCaptures(this._name,e,t):this._name}getContentName(e,t){return this._contentNameIsCapturing&&null!==this._contentName?n.RegexSource.replaceCaptures(this._contentName,e,t):this._contentName}}t.Rule=i;class _ extends i{retokenizeCapturedWithRuleId;constructor(e,t,r,n,s){super(e,t,r,n),this.retokenizeCapturedWithRuleId=s}dispose(){}collectPatterns(e,t){throw new Error("Not supported!")}compile(e,t){throw new Error("Not supported!")}compileAG(e,t,r,n){throw new Error("Not supported!")}}t.CaptureRule=_;class c extends i{_match;captures;_cachedCompiledPatterns;constructor(e,t,r,n,s){super(e,t,r,null),this._match=new p(n,this.id),this.captures=s,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,t){t.push(this._match)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new h,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}t.MatchRule=c;class l extends i{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,s){super(e,t,r,n),this.patterns=s.patterns,this.hasMissingPatterns=s.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,t){for(const r of this.patterns)e.getRule(r).collectPatterns(e,t)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new h,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}t.IncludeOnlyRule=l;class u extends i{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,s,o,a,i,_,c){super(e,t,r,n),this._begin=new p(s,this.id),this.beginCaptures=o,this._end=new p(a||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=i,this.applyEndPatternLast=_||!1,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,t){return this._end.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e,t).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e,t).compileAG(e,r,n)}_getCachedCompiledPatterns(e,t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new h;for(const t of this.patterns)e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns}}t.BeginEndRule=u;class d extends i{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(e,r,n,s,o,a,i,_,c){super(e,r,n,s),this._begin=new p(o,this.id),this.beginCaptures=a,this.whileCaptures=_,this._while=new p(i,t.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,t){return this._while.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new h;for(const t of this.patterns)e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,t){return this._getCachedCompiledWhilePatterns(e,t).compile(e)}compileWhileAG(e,t,r,n){return this._getCachedCompiledWhilePatterns(e,t).compileAG(e,r,n)}_getCachedCompiledWhilePatterns(e,t){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new h,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||"￿"),this._cachedCompiledWhilePatterns}}t.BeginWhileRule=d;class m{static createCaptureRule(e,t,r,n,s){return e.registerRule((e=>new _(t,e,r,n,s)))}static getCompiledRuleId(e,t,r){return e.id||t.registerRule((s=>{if(e.id=s,e.match)return new c(e.$vscodeTextmateLocation,e.id,e.name,e.match,m._compileCaptures(e.captures,t,r));if(void 0===e.begin){e.repository&&(r=(0,n.mergeObjects)({},r,e.repository));let s=e.patterns;return void 0===s&&e.include&&(s=[{include:e.include}]),new l(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,m._compilePatterns(s,t,r))}return e.while?new d(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,m._compileCaptures(e.beginCaptures||e.captures,t,r),e.while,m._compileCaptures(e.whileCaptures||e.captures,t,r),m._compilePatterns(e.patterns,t,r)):new u(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,m._compileCaptures(e.beginCaptures||e.captures,t,r),e.end,m._compileCaptures(e.endCaptures||e.captures,t,r),e.applyEndPatternLast,m._compilePatterns(e.patterns,t,r))})),e.id}static _compileCaptures(e,t,r){let n=[];if(e){let s=0;for(const t in e){if("$vscodeTextmateLocation"===t)continue;const e=parseInt(t,10);e>s&&(s=e)}for(let e=0;e<=s;e++)n[e]=null;for(const s in e){if("$vscodeTextmateLocation"===s)continue;const o=parseInt(s,10);let a=0;e[s].patterns&&(a=m.getCompiledRuleId(e[s],t,r)),n[o]=m.createCaptureRule(t,e[s].$vscodeTextmateLocation,e[s].name,e[s].contentName,a)}}return n}static _compilePatterns(e,t,r){let n=[];if(e)for(let o=0,a=e.length;o<a;o++){const a=e[o];let i=-1;if(a.include){const e=(0,s.parseInclude)(a.include);switch(e.kind){case 0:case 1:i=m.getCompiledRuleId(r[a.include],t,r);break;case 2:let n=r[e.ruleName];n&&(i=m.getCompiledRuleId(n,t,r));break;case 3:case 4:const s=e.scopeName,o=4===e.kind?e.ruleName:null,_=t.getExternalGrammar(s,r);if(_)if(o){let e=_.repository[o];e&&(i=m.getCompiledRuleId(e,t,_.repository))}else i=m.getCompiledRuleId(_.repository.$self,t,_.repository)}}else i=m.getCompiledRuleId(a,t,r);if(-1!==i){const e=t.getRule(i);let r=!1;if((e instanceof l||e instanceof u||e instanceof d)&&e.hasMissingPatterns&&0===e.patterns.length&&(r=!0),r)continue;n.push(i)}}return{patterns:n,hasMissingPatterns:(e?e.length:0)!==n.length}}}t.RuleFactory=m;class p{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,t){if(e){const t=e.length;let r=0,n=[],s=!1;for(let o=0;o<t;o++)if("\\"===e.charAt(o)&&o+1<t){const t=e.charAt(o+1);"z"===t?(n.push(e.substring(r,o)),n.push("$(?!\\n)(?<!\\n)"),r=o+2):"A"!==t&&"G"!==t||(s=!0),o++}this.hasAnchor=s,0===r?this.source=e:(n.push(e.substring(r,t)),this.source=n.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,this.hasBackReferences=o.test(this.source)}clone(){return new p(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,t){let r=t.map((t=>e.substring(t.start,t.end)));return a.lastIndex=0,this.source.replace(a,((e,t)=>(0,n.escapeRegExpCharacters)(r[parseInt(t,10)]||"")))}_buildAnchorCache(){let e,t,r,n,s=[],o=[],a=[],i=[];for(e=0,t=this.source.length;e<t;e++)r=this.source.charAt(e),s[e]=r,o[e]=r,a[e]=r,i[e]=r,"\\"===r&&e+1<t&&(n=this.source.charAt(e+1),"A"===n?(s[e+1]="￿",o[e+1]="￿",a[e+1]="A",i[e+1]="A"):"G"===n?(s[e+1]="￿",o[e+1]="G",a[e+1]="￿",i[e+1]="G"):(s[e+1]=n,o[e+1]=n,a[e+1]=n,i[e+1]=n),e++);return{A0_G0:s.join(""),A0_G1:o.join(""),A1_G0:a.join(""),A1_G1:i.join("")}}resolveAnchors(e,t){return this.hasAnchor&&this._anchorCache?e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}t.RegExpSource=p;class h{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map((e=>e.source));this._cached=new g(e,t,this._items.map((e=>e.ruleId)))}return this._cached}compileAG(e,t,r){return this._hasAnchors?t?r?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G0):r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,r){let n=this._items.map((e=>e.resolveAnchors(t,r)));return new g(e,n,this._items.map((e=>e.ruleId)))}}t.RegExpSourceList=h;class g{regExps;rules;scanner;constructor(e,t,r){this.regExps=t,this.rules=r,this.scanner=e.createOnigScanner(t)}dispose(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()}toString(){const e=[];for(let t=0,r=this.rules.length;t<r;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join("\n")}findNextMatchSync(e,t,r){const n=this.scanner.findNextMatchSync(e,t,r);return n?{ruleId:this.rules[n.index],captureIndices:n.captureIndices}:null}}t.CompiledRule=g},734:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeTrieElement=t.ThemeTrieElementRule=t.ColorMap=t.fontStyleToString=t.ParsedThemeRule=t.parseTheme=t.StyleAttributes=t.ScopeStack=t.Theme=void 0;const n=r(306);class s{_colorMap;_defaults;_root;static createFromRawTheme(e,t){return this.createFromParsedTheme(_(e),t)}static createFromParsedTheme(e,t){return function(e,t){e.sort(((e,t)=>{let r=(0,n.strcmp)(e.scope,t.scope);return 0!==r?r:(r=(0,n.strArrCmp)(e.parentScopes,t.parentScopes),0!==r?r:e.index-t.index)}));let r=0,o="#000000",a="#ffffff";for(;e.length>=1&&""===e[0].scope;){let t=e.shift();-1!==t.fontStyle&&(r=t.fontStyle),null!==t.foreground&&(o=t.foreground),null!==t.background&&(a=t.background)}let _=new l(t),c=new i(r,_.getId(o),_.getId(a)),m=new d(new u(0,null,-1,0,0),[]);for(let t=0,r=e.length;t<r;t++){let r=e[t];m.insert(0,r.scope,r.parentScopes,r.fontStyle,_.getId(r.foreground),_.getId(r.background))}return new s(_,c,m)}(e,t)}_cachedMatchRoot=new n.CachedFn((e=>this._root.match(e)));constructor(e,t,r){this._colorMap=e,this._defaults=t,this._root=r}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(null===e)return this._defaults;const t=e.scopeName,r=this._cachedMatchRoot.get(t).find((t=>function(e,t){if(null===t)return!0;let r=0,n=t[r];for(;e;){if(a(e.scopeName,n)){if(r++,r===t.length)return!0;n=t[r]}e=e.parent}return!1}(e.parent,t.parentScopes)));return r?new i(r.fontStyle,r.foreground,r.background):null}}t.Theme=s;class o{parent;scopeName;static push(e,t){for(const r of t)e=new o(e,r);return e}static from(...e){let t=null;for(let r=0;r<e.length;r++)t=new o(t,e[r]);return t}constructor(e,t){this.parent=e,this.scopeName=t}push(e){return new o(this,e)}getSegments(){let e=this;const t=[];for(;e;)t.push(e.scopeName),e=e.parent;return t.reverse(),t}toString(){return this.getSegments().join(" ")}extends(e){return this===e||null!==this.parent&&this.parent.extends(e)}getExtensionIfDefined(e){const t=[];let r=this;for(;r&&r!==e;)t.push(r.scopeName),r=r.parent;return r===e?t.reverse():void 0}}function a(e,t){return t===e||e.startsWith(t)&&"."===e[t.length]}t.ScopeStack=o;class i{fontStyle;foregroundId;backgroundId;constructor(e,t,r){this.fontStyle=e,this.foregroundId=t,this.backgroundId=r}}function _(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,r=[],s=0;for(let e=0,o=t.length;e<o;e++){let o,a=t[e];if(!a.settings)continue;if("string"==typeof a.scope){let e=a.scope;e=e.replace(/^[,]+/,""),e=e.replace(/[,]+$/,""),o=e.split(",")}else o=Array.isArray(a.scope)?a.scope:[""];let i=-1;if("string"==typeof a.settings.fontStyle){i=0;let e=a.settings.fontStyle.split(" ");for(let t=0,r=e.length;t<r;t++)switch(e[t]){case"italic":i|=1;break;case"bold":i|=2;break;case"underline":i|=4;break;case"strikethrough":i|=8}}let _=null;"string"==typeof a.settings.foreground&&(0,n.isValidHexColor)(a.settings.foreground)&&(_=a.settings.foreground);let l=null;"string"==typeof a.settings.background&&(0,n.isValidHexColor)(a.settings.background)&&(l=a.settings.background);for(let t=0,n=o.length;t<n;t++){let n=o[t].trim().split(" "),a=n[n.length-1],u=null;n.length>1&&(u=n.slice(0,n.length-1),u.reverse()),r[s++]=new c(a,u,e,i,_,l)}}return r}t.StyleAttributes=i,t.parseTheme=_;class c{scope;parentScopes;index;fontStyle;foreground;background;constructor(e,t,r,n,s,o){this.scope=e,this.parentScopes=t,this.index=r,this.fontStyle=n,this.foreground=s,this.background=o}}t.ParsedThemeRule=c,t.fontStyleToString=function(e){if(-1===e)return"not set";let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),8&e&&(t+="strikethrough "),""===t&&(t="none"),t.trim()};class l{_isFrozen;_lastColorId;_id2color;_color2id;constructor(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,r=e.length;t<r;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(null===e)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}}t.ColorMap=l;class u{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,t,r,n,s){this.scopeDepth=e,this.parentScopes=t,this.fontStyle=r,this.foreground=n,this.background=s}clone(){return new u(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let t=[];for(let r=0,n=e.length;r<n;r++)t[r]=e[r].clone();return t}acceptOverwrite(e,t,r,n){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,-1!==t&&(this.fontStyle=t),0!==r&&(this.foreground=r),0!==n&&(this.background=n)}}t.ThemeTrieElementRule=u;class d{_mainRule;_children;_rulesWithParentScopes;constructor(e,t=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=t}static _sortBySpecificity(e){return 1===e.length||e.sort(this._cmpBySpecificity),e}static _cmpBySpecificity(e,t){if(e.scopeDepth===t.scopeDepth){const r=e.parentScopes,n=t.parentScopes;let s=null===r?0:r.length,o=null===n?0:n.length;if(s===o)for(let e=0;e<s;e++){const t=r[e].length,s=n[e].length;if(t!==s)return s-t}return o-s}return t.scopeDepth-e.scopeDepth}match(e){if(""===e)return d._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));let t,r,n=e.indexOf(".");return-1===n?(t=e,r=""):(t=e.substring(0,n),r=e.substring(n+1)),this._children.hasOwnProperty(t)?this._children[t].match(r):d._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))}insert(e,t,r,n,s,o){if(""===t)return void this._doInsertHere(e,r,n,s,o);let a,i,_,c=t.indexOf(".");-1===c?(a=t,i=""):(a=t.substring(0,c),i=t.substring(c+1)),this._children.hasOwnProperty(a)?_=this._children[a]:(_=new d(this._mainRule.clone(),u.cloneArr(this._rulesWithParentScopes)),this._children[a]=_),_.insert(e+1,i,r,n,s,o)}_doInsertHere(e,t,r,s,o){if(null!==t){for(let a=0,i=this._rulesWithParentScopes.length;a<i;a++){let i=this._rulesWithParentScopes[a];if(0===(0,n.strArrCmp)(i.parentScopes,t))return void i.acceptOverwrite(e,r,s,o)}-1===r&&(r=this._mainRule.fontStyle),0===s&&(s=this._mainRule.foreground),0===o&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new u(e,t,r,s,o))}else this._mainRule.acceptOverwrite(e,r,s,o)}}t.ThemeTrieElement=d},306:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?function(e){let t=[];for(let n=0,s=e.length;n<s;n++)t[n]=r(e[n]);return t}(e):"object"==typeof e?function(e){let t={};for(let n in e)t[n]=r(e[n]);return t}(e):e}Object.defineProperty(t,"__esModule",{value:!0}),t.performanceNow=t.CachedFn=t.escapeRegExpCharacters=t.isValidHexColor=t.strArrCmp=t.strcmp=t.RegexSource=t.basename=t.mergeObjects=t.clone=void 0,t.clone=function(e){return r(e)},t.mergeObjects=function(e,...t){return t.forEach((t=>{for(let r in t)e[r]=t[r]})),e},t.basename=function e(t){const r=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return 0===r?t:~r==t.length-1?e(t.substring(0,t.length-1)):t.substr(1+~r)};let n=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function s(e,t){return e<t?-1:e>t?1:0}t.RegexSource=class{static hasCaptures(e){return null!==e&&(n.lastIndex=0,n.test(e))}static replaceCaptures(e,t,r){return e.replace(n,((e,n,s,o)=>{let a=r[parseInt(n||s,10)];if(!a)return e;{let e=t.substring(a.start,a.end);for(;"."===e[0];)e=e.substring(1);switch(o){case"downcase":return e.toLowerCase();case"upcase":return e.toUpperCase();default:return e}}}))}},t.strcmp=s,t.strArrCmp=function(e,t){if(null===e&&null===t)return 0;if(!e)return-1;if(!t)return 1;let r=e.length,n=t.length;if(r===n){for(let n=0;n<r;n++){let r=s(e[n],t[n]);if(0!==r)return r}return 0}return r-n},t.isValidHexColor=function(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))},t.escapeRegExpCharacters=function(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},t.CachedFn=class{fn;cache=new Map;constructor(e){this.fn=e}get(e){if(this.cache.has(e))return this.cache.get(e);const t=this.fn(e);return this.cache.set(e,t),t}},t.performanceNow="undefined"==typeof performance?function(){return Date.now()}:function(){return performance.now()}},225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScopes=void 0;const n=r(398),s={};async function o(e){const t=await n.workspace.openTextDocument(e),r=JSON.parse(t.getText()),a=r.tokenColors;if(a)for(const e of a){const t=e.scope;if("string"==typeof t){const n=e.settings;s[t]={foreground:n.foreground,background:n.background,fontStyle:n.fontStyle,theme:r.name,name:e.name}}if(t instanceof Array){const n=t;for(const t of n){const n=e.settings;s[t]={foreground:n.foreground,background:n.background,fontStyle:n.fontStyle,theme:r.name,name:e.name}}}}const i=r.include;i&&o(n.Uri.joinPath(e,"../",i))}t.getScopes=async function(){const e=n.workspace.getConfiguration("workbench").get("colorTheme");for(const t of n.extensions.all){const r=t.packageJSON,a=r.contributes?.themes;if(a){for(const r of a)(r.id||r.label)==e&&o(n.Uri.joinPath(t.extensionUri,r.path));if(Object.keys(s).length)return s}}}},104:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTokenColorCustomizations=void 0;const n=r(398);t.initTokenColorCustomizations=function(e){const t=n.window.activeTextEditor?.document;u(a(t)||i(t)),e.subscriptions.push(n.window.onDidChangeActiveTextEditor((e=>{const t=e?.document;u(a(t)||i(t))}))),e.subscriptions.push(n.workspace.onDidOpenTextDocument((e=>{e==n.window.activeTextEditor?.document&&u(a(e)||i(e))}))),e.subscriptions.push(n.workspace.onDidChangeTextDocument((e=>{if(0==e.contentChanges.length)return;const t=e.document;n.languages.match(s,t)&&t==n.window.activeTextEditor?.document&&u(a(t))}))),e.subscriptions.push(n.workspace.onDidCloseTextDocument((e=>{e==n.window.activeTextEditor?.document&&u(null)})))};const s=[{pattern:"**/package.json",scheme:"file"},{pattern:"**/package.json",scheme:"vscode-vfs"}],o=[{language:"json-textmate",scheme:"file"},{language:"json-textmate",scheme:"vscode-vfs"}];function a(e){return e?n.languages.match(s,e)?e.uri:void 0:null}function i(e){return e?n.languages.match(o,e)?n.Uri.joinPath(e.uri,"../../package.json"):void 0:null}let _=!1,c=!1;const l="[tokenColorCustomizations_bak_JSON_TextMate";async function u(e){const t=n.workspace.name?n.ConfigurationTarget.Workspace:n.ConfigurationTarget.Global,r=n.workspace.name?"workspaceValue":"globalValue";if(e&&"untitled"!=e.scheme)try{const s=await n.workspace.openTextDocument(e),o=await JSON.parse(s?.getText()),a=o?.contributes?.configurationDefaults?.["editor.tokenColorCustomizations"];if(a){const e=n.workspace.getConfiguration("editor"),s=e.inspect("tokenColorCustomizations")[r]??{},o=s[l]??s;return delete o[l],a[l]=o,e.update("tokenColorCustomizations",a,t),void(c=!0)}}catch(e){if(c&&0==_){const t=`Failed to parse package.json:\n${e}`,r="Ignore";n.window.showWarningMessage(t,r).then((e=>(e==r&&(_=!0),!0)))}}const s=n.workspace.getConfiguration("editor"),o=(s.inspect("tokenColorCustomizations")[r]??{})[l];if(void 0!==o){const e=Object.keys(o).length;s.update("tokenColorCustomizations",e?o:void 0,t)}}},66:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initCallStackView=t.TreeDataProvider=void 0;const n=r(398),s=r(628),o=r(265),a=r(329);let i,_="tree";const c=[],l=new n.EventEmitter;let u;async function d(e,t){e.document,e.selection.active;const r=n.window.activeTextEditor;r&&(await u.reveal(void 0,{expand:!0,focus:!1,select:!1}),await u.reveal({document:r.document,id:-2,type:"tree"},{expand:!0,focus:!1,select:!1}),await u.reveal({document:r.document,id:-1,type:"tree"},{expand:2,focus:!0,select:!0}),u.badge={tooltip:"tooltip badge 56: is there any use for this number?",value:56},u.title="new title")}function m(e){l.fire(void 0)}async function p(e){n.window.showInformationMessage(JSON.stringify(e)),await u.reveal(void 0,{focus:!0}),n.commands.executeCommand("list.find")}async function h(e){if(!e)return;const t=e.id,r=e.document;if(-2==t){const e=r.languageId;for(const t of n.extensions.all){const r=t.packageJSON,s=r.contributes?.grammars;if(s)for(const r of s)if(r.language==e&&r.path){const e=n.Uri.joinPath(t.extensionUri,"package.json");return void n.window.showTextDocument(e)}}return}if(-1==t){const e=r.languageId;for(const t of n.extensions.all){const r=t.packageJSON,s=r.contributes?.grammars;if(s)for(const r of s)if(r.language==e){const e=r.path;if(e){const r=n.Uri.joinPath(t.extensionUri,e);return void n.window.showTextDocument(r)}}}return}let s=1,o=-1;if("tree"==e.type&&(s=e.ruleId),"list"==e.type){const r=e.line;if(0==t&&(s=i.lines[r].lastRule),1==t){const t=i.lines[r],n=t.tokens[e.tokenId],a=n.startIndex,_=n.endIndex;for(let e=t.rulesLength;e<i.rules.length;e++){const t=i.rules[e];if(!t)break;let r=!1,n=0;for(const e of t.captureIndices){if(e.start==a&&e.end>=_){r=!0;break}n++}if(r){s=t.matchedRuleId,o=n;break}}}}if(!s)return;s<0&&(s=-s);let _,c=f(i._grammar,s);if(c)_=await async function(e){const t=e.languageId;for(const e of n.extensions.all){const r=e.packageJSON,s=r.contributes?.grammars;if(s)for(const r of s)if(r.language==t){const t=r.path;if(t){const r=n.Uri.joinPath(e.extensionUri,t),s=await n.workspace.openTextDocument(r);if(s)return s}}}}(r);else for(const e in i._includedGrammars){const t=i._includedGrammars[e];if(c=f(t,s),c){_=await w(t.scopeName);break}}n.window.showInformationMessage(JSON.stringify(c)+" Capture: "+o);let l=(0,a.getTrees)(_).jsonTree.rootNode;for(const e of c){const t=e.repository;if(null!=t){for(const e of l.namedChildren)if("repository"==e.type){l=e;break}for(const e of l.namedChildren)if(e.firstNamedChild?.text==t){l=e;break}continue}const r=e.patterns;if(null!=r){for(const e of l.namedChildren)if("patterns"==e.type){l=e;break}l=l.namedChild(r+1);continue}const n=e.captures;if(null==n){if(null!=e.id)break}else{for(const e of l.namedChildren)if("captures"==e.type){l=e;break}for(const e of l.namedChildren)if(e.firstNamedChild?.text==n){l=e;break}}}const u=(0,a.toRange)(l),d=_.uri,m=[new n.Location(d,u)];n.commands.executeCommand("editor.action.goToLocations",d,u.start,m)}async function g(e){if(!e)return;const t=e.id,r=e.document;if(-2==t)return void n.window.showTextDocument(r);if(-1==t)return void n.commands.executeCommand("editor.action.goToLocations",r.uri,new n.Position(0,0),[new n.Location(r.uri,new n.Range(0,0,r.lineCount,0))]);const s=e.line;if("tree"!=e.type){if("list"==e.type){if(0==t){const e=new n.Range(s,0,s+1,0),t=new n.Location(r.uri,e),o=new n.Position(s,0);return void n.commands.executeCommand("editor.action.goToLocations",r.uri,o,[t])}if(1==t){const t=i.lines[s].tokens[e.tokenId],o=new n.Location(r.uri,new n.Range(s,t.startIndex,s,t.endIndex)),a=new n.Position(s,t.startIndex);return void n.commands.executeCommand("editor.action.goToLocations",r.uri,a,[o])}}}else{const e=i.rules[t],o=e.captureIndices[0].start,a=e.captureIndices[0].end,_=new n.Location(r.uri,new n.Range(s-1,o,s-1,a)),c=new n.Position(s-1,o);n.commands.executeCommand("editor.action.goToLocations",r.uri,c,[_])}}function f(e,t,r){for(const r in e)switch(r){case"patterns":const n=e[r];for(let e=0;e<n.length;e++){const r=f(n[e],t);if(r)return r.unshift({patterns:e}),r}break;case"repository":const s=e[r];for(const e in s){const r=f(s[e],t);if(r)return r.unshift({repository:e}),r}break;case"captures":const o=e[r];for(const e in o){const r=f(o[e],t);if(r)return r.unshift({captures:e}),r}break;case"id":const a=e[r];if(a==t)return[{id:a}]}}async function w(e){for(const t of n.extensions.all){const r=t.packageJSON,s=r.contributes?.grammars;if(s)for(const r of s)if(r.scopeName==e){const e=r.path;if(e){const r=n.Uri.joinPath(t.extensionUri,e);if("untitled"!=r.scheme){const e=await n.workspace.openTextDocument(r);if(e)return e}}}}}function y(e){n.commands.executeCommand("setContext","textmate.call.view",e),_=e,m()}t.TreeDataProvider={async getChildren(e){const t=[];if(!e){const e=n.window.activeTextEditor;if(!e)return;const r={document:e.document,id:-2};return t.push(r),t}const r=e.document;if(-2==e.id){i=await(0,s.tokenizeFile)(r,!1);for(let e=0;e<i.rules.length;e++){const t=i.rules[e];if(t){const r=t.matchedRuleId;null==c[r]&&(c[r]=e)}}if("list"==_){const e={line:0,id:-1,document:r,type:"list"};t.push(e)}else{const e={line:0,id:-1,document:r,type:"tree"};t.push(e)}return t}if("tree"==e.type){let r=e.id;const s=e.document;let a=0,_=e.line;const c=i._ruleId2desc[e.ruleId];if(c){if(!c._end)return t;r++}for(let e=r;e<i.rules.length;e++){const r=i.rules[e];if(void 0===r){_++;continue}if(null==r)continue;const c=r.matchedRuleId;if(c<0){if(a--,-1==a)break;continue}if(0==a){const r={line:_,ruleId:c,id:e,document:s,type:"tree"};t.push(r)}const l=i._ruleId2desc[c];l||n.window.showInformationMessage(JSON.stringify(r,o.stringify)),l._begin&&!l._while&&a++}return t}if("list"==e.type){if(-1==e.id){for(let e=0;e<i.lines.length;e++){const n={id:0,line:e,document:r,type:"list"};t.push(n)}return t}if(0==e.id){for(let n=0;n<i.lines[e.line].tokens.length;n++){const s={id:1,tokenId:n,line:e.line,document:r,type:"list"};t.push(s)}return t}if(1==e.id){const n=e.tokenId;for(let s=0;s<i.lines[e.line].tokens[n].scopes.length;s++){const n={id:2,tokenId:e.tokenId,scopeId:s,line:e.line,document:r,type:"list"};t.push(n)}return t}}},getTreeItem(e){const t=e.id;if(-1==t){const e=i.lines[i.lines.length-1].time,t=e.toFixed(3),r={label:i._rootScopeName},s=new n.TreeItem(r,n.TreeItemCollapsibleState.Collapsed);return s.iconPath=new n.ThemeIcon("symbol-variable"),s.tooltip=`Time: ${e}`,s.description=t+"ms"+(e>500?" ⚠️":""),s}const r=e.document;if(-2==t){const e=new n.TreeItem(r.uri,n.TreeItemCollapsibleState.Collapsed);return e.description=r.languageId,e.iconPath=n.ThemeIcon.File,e.contextValue="document",e}if("tree"==e.type){const r=e.ruleId,s=(e.line,i._ruleId2desc[r]),o=i.rules[t];let a=i.startTime;for(let e=t-1;e>=0;e--)if(i.rules[e]){a=i.rules[e].time;break}const _=o.time-a,c=_.toFixed(3),l={label:(_>=1?"⚠️":"")+(s._name||s._contentName||s.id.toString())},u=new n.TreeItem(l,s._match?n.TreeItemCollapsibleState.None:n.TreeItemCollapsibleState.Expanded);return u.description=c+"ms"+(_>=1?" ⚠️":""),s._match&&(u.iconPath=new n.ThemeIcon("regex")),u.tooltip=`RuleId: ${s.id}`,u}if("list"==e.type){if(0==t){const t=e.line,s=i.lines[t].time-(i.lines[t-1]?.time??0),o=s.toFixed(3),a={label:r.lineAt(t).text},_=new n.TreeItem(a,n.TreeItemCollapsibleState.Collapsed);return _.description=o+"ms"+(s>=500?" ⚠️":""),_.iconPath=new n.ThemeIcon("symbol-key",new n.ThemeColor("symbolIcon.stringForeground")),_.tooltip=`Line: ${t+1}`,_}if(1==t){const t=e.line,s=i.lines[t].tokens[e.tokenId],o={label:s.scopes.at(-1)},a=new n.TreeItem(o,n.TreeItemCollapsibleState.Collapsed),_=1==s.scopes.length&&i.lines[t].tokens.length-1==e.tokenId?1:0;return a.description=s.startIndex+" - "+(s.endIndex-_),a.iconPath=new n.ThemeIcon("symbol-string"),a.tooltip=r.lineAt(t).text.substring(s.startIndex,s.endIndex-_),a}if(2==t){const t=e.line,r={label:i.lines[t].tokens[e.tokenId].scopes[e.scopeId]};return new n.TreeItem(r,n.TreeItemCollapsibleState.None)}}},getParent(e){if(-1==e.id)return{document:e.document,id:-2}},resolveTreeItem:(e,t,r)=>e,onDidChangeTreeData:l.event},t.initCallStackView=async function(e){e.subscriptions.push(n.commands.registerTextEditorCommand("textmate.callstack",d)),e.subscriptions.push(n.commands.registerCommand("textmate.refresh",m)),e.subscriptions.push(n.commands.registerCommand("textmate.find",p)),e.subscriptions.push(n.commands.registerCommand("textmate.goto.file",g)),e.subscriptions.push(n.commands.registerCommand("textmate.goto.grammar",h)),e.subscriptions.push(n.commands.registerCommand("textmate.tree-view",(()=>y("tree")))),e.subscriptions.push(n.commands.registerCommand("textmate.list-view",(()=>y("list")))),y(_);const r={treeDataProvider:t.TreeDataProvider,canSelectMany:!1,showCollapseAll:!0,manageCheckboxStateManually:!1};u=n.window.createTreeView("TextMate",r)}},486:function(e){var t;t=()=>{return e={770:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultDebugCall=t.createOnigScanner=t.createOnigString=t.loadWASM=t.OnigScanner=t.OnigString=void 0;const s=n(r(418));let o=null,a=!1;class i{static _utf8ByteLength(e){let t=0;for(let r=0,n=e.length;r<n;r++){const s=e.charCodeAt(r);let o=s,a=!1;if(s>=55296&&s<=56319&&r+1<n){const t=e.charCodeAt(r+1);t>=56320&&t<=57343&&(o=65536+(s-55296<<10)|t-56320,a=!0)}t+=o<=127?1:o<=2047?2:o<=65535?3:4,a&&r++}return t}constructor(e){const t=e.length,r=i._utf8ByteLength(e),n=r!==t,s=n?new Uint32Array(t+1):null;n&&(s[t]=r);const o=n?new Uint32Array(r+1):null;n&&(o[r]=t);const a=new Uint8Array(r);let _=0;for(let r=0;r<t;r++){const i=e.charCodeAt(r);let c=i,l=!1;if(i>=55296&&i<=56319&&r+1<t){const t=e.charCodeAt(r+1);t>=56320&&t<=57343&&(c=65536+(i-55296<<10)|t-56320,l=!0)}n&&(s[r]=_,l&&(s[r+1]=_),c<=127?o[_+0]=r:c<=2047?(o[_+0]=r,o[_+1]=r):c<=65535?(o[_+0]=r,o[_+1]=r,o[_+2]=r):(o[_+0]=r,o[_+1]=r,o[_+2]=r,o[_+3]=r)),c<=127?a[_++]=c:c<=2047?(a[_++]=192|(1984&c)>>>6,a[_++]=128|(63&c)>>>0):c<=65535?(a[_++]=224|(61440&c)>>>12,a[_++]=128|(4032&c)>>>6,a[_++]=128|(63&c)>>>0):(a[_++]=240|(1835008&c)>>>18,a[_++]=128|(258048&c)>>>12,a[_++]=128|(4032&c)>>>6,a[_++]=128|(63&c)>>>0),l&&r++}this.utf16Length=t,this.utf8Length=r,this.utf16Value=e,this.utf8Value=a,this.utf16OffsetToUtf8=s,this.utf8OffsetToUtf16=o}createString(e){const t=e._omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}}class _{constructor(e){if(this.id=++_.LAST_ID,!o)throw new Error("Must invoke loadWASM first.");this._onigBinding=o,this.content=e;const t=new i(e);this.utf16Length=t.utf16Length,this.utf8Length=t.utf8Length,this.utf16OffsetToUtf8=t.utf16OffsetToUtf8,this.utf8OffsetToUtf16=t.utf8OffsetToUtf16,this.utf8Length<1e4&&!_._sharedPtrInUse?(_._sharedPtr||(_._sharedPtr=o._omalloc(1e4)),_._sharedPtrInUse=!0,o.HEAPU8.set(t.utf8Value,_._sharedPtr),this.ptr=_._sharedPtr):this.ptr=t.createString(o)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===_._sharedPtr?_._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}t.OnigString=_,_.LAST_ID=0,_._sharedPtr=0,_._sharedPtrInUse=!1;class c{constructor(e){if(!o)throw new Error("Must invoke loadWASM first.");const t=[],r=[];for(let n=0,s=e.length;n<s;n++){const s=new i(e[n]);t[n]=s.createString(o),r[n]=s.utf8Length}const n=o._omalloc(4*e.length);o.HEAPU32.set(t,n/4);const s=o._omalloc(4*e.length);o.HEAPU32.set(r,s/4);const a=o._createOnigScanner(n,s,e.length);for(let r=0,n=e.length;r<n;r++)o._ofree(t[r]);o._ofree(s),o._ofree(n),0===a&&function(e){throw new Error(e.UTF8ToString(e._getLastOnigError()))}(o),this._onigBinding=o,this._ptr=a}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(e,t,r){let n=a,s=0;if("number"==typeof r?(8&r&&(n=!0),s=r):"boolean"==typeof r&&(n=r),"string"==typeof e){e=new _(e);const r=this._findNextMatchSync(e,t,n,s);return e.dispose(),r}return this._findNextMatchSync(e,t,n,s)}_findNextMatchSync(e,t,r,n){const s=this._onigBinding;let o;if(o=r?s._findNextOnigScannerMatchDbg(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),n):s._findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),n),0===o)return null;const a=s.HEAPU32;let i=o/4;const _=a[i++],c=a[i++];let l=[];for(let t=0;t<c;t++){const r=e.convertUtf8OffsetToUtf16(a[i++]),n=e.convertUtf8OffsetToUtf16(a[i++]);l[t]={start:r,end:n,length:n-r}}return{index:_,captureIndices:l}}}t.OnigScanner=c;let l=!1,u=null;t.loadWASM=function(e){if(l)return u;let t,r,n,a;if(l=!0,function(e){return"function"==typeof e.instantiator}(e))t=e.instantiator,r=e.print;else{let n;!function(e){return void 0!==e.data}(e)?n=e:(n=e.data,r=e.print),t=function(e){return"undefined"!=typeof Response&&e instanceof Response}(n)?"function"==typeof WebAssembly.instantiateStreaming?function(e){return t=>WebAssembly.instantiateStreaming(e,t)}(n):function(e){return async t=>{const r=await e.arrayBuffer();return WebAssembly.instantiate(r,t)}}(n):function(e){return t=>WebAssembly.instantiate(e,t)}(n)}return u=new Promise(((e,t)=>{n=e,a=t})),function(e,t,r,n){(0,s.default)({print:t,instantiateWasm:(t,r)=>{if("undefined"==typeof performance){const e=()=>Date.now();t.env.emscripten_get_now=e,t.wasi_snapshot_preview1.emscripten_get_now=e}return e(t).then((e=>r(e.instance)),n),{}}}).then((e=>{o=e,r()}))}(t,r,n,a),u},t.createOnigString=function(e){return new _(e)},t.createOnigScanner=function(e){return new c(e)},t.setDefaultDebugCall=function(e){a=e}},418:e=>{var t=("undefined"!=typeof document&&document.currentScript&&document.currentScript.src,function(e){var t,r,n=void 0!==(e=e||{})?e:{};n.ready=new Promise((function(e,n){t=e,r=n}));var s,o=Object.assign({},n),a=[];s=function(e){let t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(t=read(e,"binary"),function(e,t){e||R(void 0)}("object"==typeof t),t)},"undefined"!=typeof scriptArgs?a=scriptArgs:void 0!==arguments&&(a=arguments),"undefined"!=typeof onig_print&&("undefined"==typeof console&&(console={}),console.log=onig_print,console.warn=console.error="undefined"!=typeof printErr?printErr:onig_print);var i,_,c=n.print||console.log.bind(console),l=n.printErr||console.warn.bind(console);Object.assign(n,o),o=null,n.arguments&&(a=n.arguments),n.thisProgram&&n.thisProgram,n.quit&&n.quit,n.wasmBinary&&(i=n.wasmBinary),n.noExitRuntime,"object"!=typeof WebAssembly&&R("no native wasm support detected");var u,d,m,p=!1,h="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function g(e,t,r){for(var n=t+r,s=t;e[s]&&!(s>=n);)++s;if(s-t>16&&e.buffer&&h)return h.decode(e.subarray(t,s));for(var o="";t<s;){var a=e[t++];if(128&a){var i=63&e[t++];if(192!=(224&a)){var _=63&e[t++];if((a=224==(240&a)?(15&a)<<12|i<<6|_:(7&a)<<18|i<<12|_<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|i)}else o+=String.fromCharCode(a)}return o}function f(e){u=e,n.HEAP8=new Int8Array(e),n.HEAP16=new Int16Array(e),n.HEAP32=new Int32Array(e),n.HEAPU8=d=new Uint8Array(e),n.HEAPU16=new Uint16Array(e),n.HEAPU32=m=new Uint32Array(e),n.HEAPF32=new Float32Array(e),n.HEAPF64=new Float64Array(e)}n.INITIAL_MEMORY;var w=[],y=[],b=[];function S(e){w.unshift(e)}function E(e){b.unshift(e)}var x=0,N=null,T=null;function R(e){n.onAbort&&n.onAbort(e),l(e="Aborted("+e+")"),p=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}var C,v;function I(e){return e.startsWith("data:application/octet-stream;base64,")}function k(e){try{if(e==C&&i)return new Uint8Array(i);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){R(e)}}function M(e){for(;e.length>0;)e.shift()(n)}function P(e){try{return _.grow(e-u.byteLength+65535>>>16),f(_.buffer),1}catch(e){}}I(C="onig.wasm")||(C=function(e){return n.locateFile?n.locateFile(e,""):""+e}(C)),v="undefined"!=typeof dateNow?dateNow:()=>performance.now();var A=[null,[],[]];function F(e,t){var r=A[e];0===t||10===t?((1===e?c:l)(g(r,0)),r.length=0):r.push(t)}var O,L={emscripten_get_now:v,emscripten_memcpy_big:function(e,t,r){d.copyWithin(e,t,t+r)},emscripten_resize_heap:function(e){var t,r=d.length,n=2147483648;if((e>>>=0)>n)return!1;for(var s=1;s<=4;s*=2){var o=r*(1+.2/s);if(o=Math.min(o,e+100663296),P(Math.min(n,(t=Math.max(e,o))+(65536-t%65536)%65536)))return!0}return!1},fd_write:function(e,t,r,n){for(var s=0,o=0;o<r;o++){var a=m[t>>2],i=m[t+4>>2];t+=8;for(var _=0;_<i;_++)F(e,d[a+_]);s+=i}return m[n>>2]=s,0}};function D(e){function r(){O||(O=!0,n.calledRun=!0,p||(M(y),t(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),function(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)E(n.postRun.shift());M(b)}()))}e=e||a,x>0||(function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)S(n.preRun.shift());M(w)}(),x>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),r()}),1)):r()))}if(function(){var e={env:L,wasi_snapshot_preview1:L};function t(e,t){var r=e.exports;n.asm=r,f((_=n.asm.memory).buffer),n.asm.__indirect_function_table,function(e){y.unshift(e)}(n.asm.__wasm_call_ctors),function(e){if(x--,n.monitorRunDependencies&&n.monitorRunDependencies(x),0==x&&(null!==N&&(clearInterval(N),N=null),T)){var t=T;T=null,t()}}()}function s(e){t(e.instance)}function o(t){return Promise.resolve().then((function(){return k(C)})).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){l("failed to asynchronously prepare wasm: "+e),R(e)}))}if(x++,n.monitorRunDependencies&&n.monitorRunDependencies(x),n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(e){l("Module.instantiateWasm callback failed with error: "+e),r(e)}(i||"function"!=typeof WebAssembly.instantiateStreaming||I(C)||"function"!=typeof fetch?o(s):fetch(C,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(s,(function(e){return l("wasm streaming compile failed: "+e),l("falling back to ArrayBuffer instantiation"),o(s)}))}))).catch(r)}(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.__wasm_call_ctors).apply(null,arguments)},n.___errno_location=function(){return(n.___errno_location=n.asm.__errno_location).apply(null,arguments)},n._omalloc=function(){return(n._omalloc=n.asm.omalloc).apply(null,arguments)},n._ofree=function(){return(n._ofree=n.asm.ofree).apply(null,arguments)},n._getLastOnigError=function(){return(n._getLastOnigError=n.asm.getLastOnigError).apply(null,arguments)},n._createOnigScanner=function(){return(n._createOnigScanner=n.asm.createOnigScanner).apply(null,arguments)},n._freeOnigScanner=function(){return(n._freeOnigScanner=n.asm.freeOnigScanner).apply(null,arguments)},n._findNextOnigScannerMatch=function(){return(n._findNextOnigScannerMatch=n.asm.findNextOnigScannerMatch).apply(null,arguments)},n._findNextOnigScannerMatchDbg=function(){return(n._findNextOnigScannerMatchDbg=n.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},n.stackSave=function(){return(n.stackSave=n.asm.stackSave).apply(null,arguments)},n.stackRestore=function(){return(n.stackRestore=n.asm.stackRestore).apply(null,arguments)},n.stackAlloc=function(){return(n.stackAlloc=n.asm.stackAlloc).apply(null,arguments)},n.dynCall_jiji=function(){return(n.dynCall_jiji=n.asm.dynCall_jiji).apply(null,arguments)},n.UTF8ToString=function(e,t){return e?g(d,e,t):""},T=function e(){O||D(),O||(T=e)},n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return D(),e.ready});e.exports=t}},t={},function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(770);var e,t},e.exports=t()},812:(module,__unused_webpack_exports,__webpack_require__)=>{var __dirname="/",Module=void 0!==Module?Module:{},TreeSitter=function(){var initPromise,document="object"==typeof window?{currentScript:window.document.currentScript}:null;class Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise((resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(e,t)=>{throw t},ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,scriptDirectory="",read_,readAsync,readBinary;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}if(ENVIRONMENT_IS_NODE){var fs=__webpack_require__(75),nodePath=__webpack_require__(975);scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=(e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),readBinary=e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},readAsync=(e,t,r,n=!0)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,n?void 0:"utf8",((e,s)=>{e?r(e):t(n?s.buffer:s)}))},!Module.thisProgram&&process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),module.exports=Module,quit_=(e,t)=>{throw process.exitCode=e,t}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:void 0!==document&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.startsWith("blob:")?"":scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1),read_=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),readAsync=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var out=Module.print||console.log.bind(console),err=Module.printErr||console.error.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var dynamicLibraries=Module.dynamicLibraries||[],wasmBinary,wasmMemory;Module.wasmBinary&&(wasmBinary=Module.wasmBinary),"object"!=typeof WebAssembly&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var e=wasmMemory.buffer;Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),updateMemoryViews(),INITIAL_MEMORY=wasmMemory.buffer.byteLength;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies?.(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies?.(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}function abort(e){throw Module.onAbort?.(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}var dataURIPrefix="data:application/octet-stream;base64,",isDataURI=e=>e.startsWith(dataURIPrefix),isFileURI=e=>e.startsWith("file://"),wasmBinaryFile;function getBinarySync(e){if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}function getBinaryPromise(e){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if("function"==typeof fetch&&!isFileURI(e))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()})).catch((()=>getBinarySync(e)));if(readAsync)return new Promise(((t,r)=>{readAsync(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>getBinarySync(e)))}function instantiateArrayBuffer(e,t,r){return getBinaryPromise(e).then((e=>WebAssembly.instantiate(e,t))).then(r,(e=>{err(`failed to asynchronously prepare wasm: ${e}`),abort(e)}))}function instantiateAsync(e,t,r,n){return e||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(t)||isFileURI(t)||ENVIRONMENT_IS_NODE||"function"!=typeof fetch?instantiateArrayBuffer(t,r,n):fetch(t,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,r).then(n,(function(e){return err(`wasm streaming compile failed: ${e}`),err("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(t,r,n)}))))}function createWasm(){var e={env:wasmImports,wasi_snapshot_preview1:wasmImports,"GOT.mem":new Proxy(wasmImports,GOTHandler),"GOT.func":new Proxy(wasmImports,GOTHandler)};function t(e,t){wasmExports=e.exports,wasmExports=relocateExports(wasmExports,1024);var r=getDylinkMetadata(t);return r.neededDynlibs&&(dynamicLibraries=r.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(wasmExports,"main"),LDSO.init(),loadDylibs(),addOnInit(wasmExports.__wasm_call_ctors),__RELOC_FUNCS__.push(wasmExports.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate"),wasmExports}if(addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(e){return err(`Module.instantiateWasm callback failed with error: ${e}`),!1}return instantiateAsync(wasmBinary,wasmBinaryFile,e,(function(e){t(e.instance,e.module)})),{}}wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var GOT={},currentModuleWeakSymbols=new Set([]),GOTHandler={get(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),currentModuleWeakSymbols.has(t)||(r.required=!0),r}},callRuntimeCallbacks=e=>{for(;e.length>0;)e.shift()(Module)},UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,UTF8ArrayToString=(e,t,r)=>{for(var n=t+r,s=t;e[s]&&!(s>=n);)++s;if(s-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,s));for(var o="";t<s;){var a=e[t++];if(128&a){var i=63&e[t++];if(192!=(224&a)){var _=63&e[t++];if((a=224==(240&a)?(15&a)<<12|i<<6|_:(7&a)<<18|i<<12|_<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|i)}else o+=String.fromCharCode(a)}return o},getDylinkMetadata=e=>{var t=0,r=0;function n(){for(var r=0,n=1;;){var s=e[t++];if(r+=(127&s)*n,n*=128,!(128&s))break}return r}function s(){var r=n();return UTF8ArrayToString(e,(t+=r)-r,r)}function o(e,t){if(e)throw new Error(t)}var a="dylink.0";if(e instanceof WebAssembly.Module){var i=WebAssembly.Module.customSections(e,a);0===i.length&&(a="dylink",i=WebAssembly.Module.customSections(e,a)),o(0===i.length,"need dylink section"),r=(e=new Uint8Array(i[0])).length}else{o(!(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]),"need to see wasm magic number"),o(0!==e[8],"need the dylink section to be first"),t=9;var _=n();r=t+_,a=s()}var c={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if("dylink"==a){c.memorySize=n(),c.memoryAlign=n(),c.tableSize=n(),c.tableAlign=n();for(var l=n(),u=0;u<l;++u){var d=s();c.neededDynlibs.push(d)}}else for(o("dylink.0"!==a);t<r;){var m=e[t++],p=n();if(1===m)c.memorySize=n(),c.memoryAlign=n(),c.tableSize=n(),c.tableAlign=n();else if(2===m)for(l=n(),u=0;u<l;++u)d=s(),c.neededDynlibs.push(d);else if(3===m)for(var h=n();h--;){var g=s();256&n()&&c.tlsExports.add(g)}else if(4===m)for(h=n();h--;)s(),g=s(),1==(3&n())&&c.weakImports.add(g);else t+=p}return c};function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e];case"i16":return HEAP16[e>>1];case"i32":return HEAP32[e>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort(`invalid type for getValue: ${t}`)}}var newDSO=(e,t,r)=>{var n={refcount:1/0,name:e,exports:r,global:!0};return LDSO.loadedLibsByName[e]=n,null!=t&&(LDSO.loadedLibsByHandle[t]=n),n},LDSO={loadedLibsByName:{},loadedLibsByHandle:{},init(){newDSO("__main__",0,wasmImports)}},___heap_base=78096,zeroMemory=(e,t)=>(HEAPU8.fill(0,e,e+t),e),alignMemory=(e,t)=>Math.ceil(e/t)*t,getMemory=e=>{if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+alignMemory(e,16);return ___heap_base=r,GOT.__heap_base.value=r,t},isInternalSym=e=>["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm","__start_em_js","__stop_em_js"].includes(e)||e.startsWith("__em_js__"),uleb128Encode=(e,t)=>{e<128?t.push(e):t.push(e%128|128,e>>7)},sigToWasmTypes=e=>{for(var t={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},r={parameters:[],results:"v"==e[0]?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]);return r},generateFuncType=(e,t)=>{var r=e.slice(0,1),n=e.slice(1),s={i:127,p:127,j:126,f:125,d:124,e:111};t.push(96),uleb128Encode(n.length,t);for(var o=0;o<n.length;++o)t.push(s[n[o]]);"v"==r?t.push(0):t.push(1,s[r])},convertJsFunctionToWasm=(e,t)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push(...r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var s=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(s,{e:{f:e}}).exports.f},wasmTableMirror=[],wasmTable=new WebAssembly.Table({initial:27,element:"anyfunc"}),getWasmTableEntry=e=>{var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t},updateTableMap=(e,t)=>{if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}},functionsInTableMap,getFunctionAddress=e=>(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.get(e)||0),freeTableIndexes=[],getEmptyTableSlot=()=>{if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return wasmTable.length-1},setWasmTableEntry=(e,t)=>{wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)},addFunction=(e,t)=>{var r=getFunctionAddress(e);if(r)return r;var n=getEmptyTableSlot();try{setWasmTableEntry(n,e)}catch(r){if(!(r instanceof TypeError))throw r;var s=convertJsFunctionToWasm(e,t);setWasmTableEntry(n,s)}return functionsInTableMap.set(e,n),n},updateGOT=(e,t)=>{for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||=new WebAssembly.Global({value:"i32",mutable:!0}),(t||0==GOT[r].value)&&("function"==typeof n?GOT[r].value=addFunction(n):"number"==typeof n?GOT[r].value=n:err(`unhandled export type for '${r}': ${typeof n}`))}},relocateExports=(e,t,r)=>{var n={};for(var s in e){var o=e[s];"object"==typeof o&&(o=o.value),"number"==typeof o&&(o+=t),n[s]=o}return updateGOT(n,r),n},isSymbolDefined=e=>{var t=wasmImports[e];return!(!t||t.stub)},dynCallLegacy=(e,t,r)=>(0,Module["dynCall_"+e])(t,...r),dynCall=(e,t,r=[])=>e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t)(...r),createInvokeFunction=e=>function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(e){if(stackRestore(t),e!==e+0)throw e;_setThrew(1,0)}},resolveGlobalSymbol=(e,t=!1)=>{var r;return t&&"orig$"+e in wasmImports&&(e="orig$"+e),isSymbolDefined(e)?r=wasmImports[e]:e.startsWith("invoke_")&&(r=wasmImports[e]=createInvokeFunction(e.split("_")[1])),{sym:r,name:e}},UTF8ToString=(e,t)=>e?UTF8ArrayToString(HEAPU8,e,t):"",loadWebAssemblyModule=(binary,flags,libName,localScope,handle)=>{var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+8];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign),memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+8]=1,HEAPU32[handle+12>>2]=memoryBase,HEAP32[handle+16>>2]=metadata.memorySize,HEAPU32[handle+20>>2]=tableBase,HEAP32[handle+24>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+12>>2],tableBase=HEAPU32[handle+20>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e).sym;return!t&&localScope&&(t=localScope[e]),t||(t=moduleExports[e]),t}tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}return t in wasmImports&&!wasmImports[t].stub?wasmImports[t]:(t in e||(e[t]=(...e)=>(r||=resolveSymbol(t),r(...e))),e[t]);var r}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(module,instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&-1!=body.indexOf("$"+arity);arity++)args.push("$"+arity);args=args.join(",");var func=`(${args}) => { ${body} };`;ASM_CONSTS[start]=eval(func)}if(updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}function addEmJs(name,cSig,body){var jsArgs=[];if(cSig=cSig.slice(1,-1),"void"!=cSig)for(var i in cSig=cSig.split(","),cSig){var jsArg=cSig[i].split(" ").pop();jsArgs.push(jsArg.replace("*",""))}var func=`(${jsArgs}) => ${body};`;moduleExports[name]=eval(func)}for(var name in moduleExports)if(name.startsWith("__em_js__")){var start=moduleExports[name],jsString=UTF8ToString(start),parts=jsString.split("<::>");addEmJs(name.replace("__em_js__",""),parts[0],parts[1]),delete moduleExports[name]}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(binary,instance))}return WebAssembly.instantiate(binary,info).then((e=>postInstantiation(e.module,e.instance)))}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(module,instance)}return currentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(((e,t)=>e.then((()=>loadDynamicLibrary(t,flags)))),Promise.resolve()).then(loadModule):(metadata.neededDynlibs.forEach((e=>loadDynamicLibrary(e,flags,localScope))),loadModule())},mergeLibSymbols=(e,t)=>{for(var[r,n]of Object.entries(e)){const e=e=>{isSymbolDefined(e)||(wasmImports[e]=n)};e(r);const t="__main_argc_argv";"main"==r&&e(t),r==t&&e("main"),r.startsWith("dynCall_")&&!Module.hasOwnProperty(r)&&(Module[r]=n)}},asyncLoad=(e,t,r,n)=>{var s=n?"":getUniqueRunDependency(`al ${e}`);readAsync(e,(e=>{t(new Uint8Array(e)),s&&removeRunDependency(s)}),(t=>{if(!r)throw`Loading data file "${e}" failed.`;r()})),s&&addRunDependency(s)};function loadDynamicLibrary(e,t={global:!0,nodelete:!0},r,n){var s=LDSO.loadedLibsByName[e];if(s)return t.global?s.global||(s.global=!0,mergeLibSymbols(s.exports,e)):r&&Object.assign(r,s.exports),t.nodelete&&s.refcount!==1/0&&(s.refcount=1/0),s.refcount++,n&&(LDSO.loadedLibsByHandle[n]=s),!t.loadAsync||Promise.resolve(!0);function o(){if(n){var r=HEAPU32[n+28>>2],s=HEAPU32[n+32>>2];if(r&&s){var o=HEAP8.slice(r,r+s);return t.loadAsync?Promise.resolve(o):o}}var a=locateFile(e);if(t.loadAsync)return new Promise((function(e,t){asyncLoad(a,e,t)}));if(!readBinary)throw new Error(`${a}: file not found, and synchronous loading of external files is not available`);return readBinary(a)}function a(){return t.loadAsync?o().then((s=>loadWebAssemblyModule(s,t,e,r,n))):loadWebAssemblyModule(o(),t,e,r,n)}function i(t){s.global?mergeLibSymbols(t,e):r&&Object.assign(r,t),s.exports=t}return(s=newDSO(e,n,"loading")).refcount=t.nodelete?1/0:1,s.global=t.global,t.loadAsync?a().then((e=>(i(e),!0))):(i(a()),!0)}var reportUndefinedSymbols=()=>{for(var[e,t]of Object.entries(GOT))if(0==t.value){var r=resolveGlobalSymbol(e,!0).sym;if(!r&&!t.required)continue;if("function"==typeof r)t.value=addFunction(r,r.sig);else{if("number"!=typeof r)throw new Error(`bad export type for '${e}': ${typeof r}`);t.value=r}}},loadDylibs=()=>{dynamicLibraries.length?(addRunDependency("loadDylibs"),dynamicLibraries.reduce(((e,t)=>e.then((()=>loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})))),Promise.resolve()).then((()=>{reportUndefinedSymbols(),removeRunDependency("loadDylibs")}))):reportUndefinedSymbols()},noExitRuntime=Module.noExitRuntime||!0;function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":abort("to do setValue(i64) use WASM_BIGINT");case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort(`invalid type for setValue: ${r}`)}}var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78096),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=1,__emscripten_get_now_is_monotonic=()=>nowIsMonotonic;__emscripten_get_now_is_monotonic.sig="i";var _abort=()=>{abort("")};_abort.sig="v";var _emscripten_date_now=()=>Date.now(),_emscripten_get_now;_emscripten_date_now.sig="d",_emscripten_get_now=()=>performance.now(),_emscripten_get_now.sig="d";var _emscripten_memcpy_js=(e,t,r)=>HEAPU8.copyWithin(e,t,t+r);_emscripten_memcpy_js.sig="vppp";var getHeapMax=()=>2147483648,growMemory=e=>{var t=(e-wasmMemory.buffer.byteLength+65535)/65536;try{return wasmMemory.grow(t),updateMemoryViews(),1}catch(e){}},_emscripten_resize_heap=e=>{var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n,s=1;s<=4;s*=2){var o=t*(1+.2/s);o=Math.min(o,e+100663296);var a=Math.min(r,(n=Math.max(e,o))+(65536-n%65536)%65536);if(growMemory(a))return!0}return!1};_emscripten_resize_heap.sig="ip";var _fd_close=e=>52;_fd_close.sig="ii";var convertI32PairToI53Checked=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN;function _fd_seek(e,t,r,n,s){return convertI32PairToI53Checked(t,r),70}_fd_seek.sig="iiiiip";var printCharBuffers=[null,[],[]],printChar=(e,t)=>{var r=printCharBuffers[e];0===t||10===t?((1===e?out:err)(UTF8ArrayToString(r,0)),r.length=0):r.push(t)},SYSCALLS={varargs:void 0,get(){var e=HEAP32[+SYSCALLS.varargs>>2];return SYSCALLS.varargs+=4,e},getp:()=>SYSCALLS.get(),getStr:e=>UTF8ToString(e)},_fd_write=(e,t,r,n)=>{for(var s=0,o=0;o<r;o++){var a=HEAPU32[t>>2],i=HEAPU32[t+4>>2];t+=8;for(var _=0;_<i;_++)printChar(e,HEAPU8[a+_]);s+=i}return HEAPU32[n>>2]=s,0};function _tree_sitter_log_callback(e,t){if(currentLogCallback){const r=UTF8ToString(t);currentLogCallback(r,0!==e)}}function _tree_sitter_parse_callback(e,t,r,n,s){const o=currentParseCallback(t,{row:r,column:n});"string"==typeof o?(setValue(s,o.length,"i32"),stringToUTF16(o,e,10240)):setValue(s,0,"i32")}_fd_write.sig="iippp";var runtimeKeepaliveCounter=0,keepRuntimeAlive=()=>noExitRuntime||runtimeKeepaliveCounter>0,_proc_exit=e=>{EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit?.(e),ABORT=!0),quit_(e,new ExitStatus(e))};_proc_exit.sig="vi";var exitJS=(e,t)=>{EXITSTATUS=e,_proc_exit(e)},handleException=e=>{if(e instanceof ExitStatus||"unwind"==e)return EXITSTATUS;quit_(1,e)},lengthBytesUTF8=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},stringToUTF8Array=(e,t,r,n)=>{if(!(n>0))return 0;for(var s=r,o=r+n-1,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),i<=127){if(r>=o)break;t[r++]=i}else if(i<=2047){if(r+1>=o)break;t[r++]=192|i>>6,t[r++]=128|63&i}else if(i<=65535){if(r+2>=o)break;t[r++]=224|i>>12,t[r++]=128|i>>6&63,t[r++]=128|63&i}else{if(r+3>=o)break;t[r++]=240|i>>18,t[r++]=128|i>>12&63,t[r++]=128|i>>6&63,t[r++]=128|63&i}}return t[r]=0,r-s},stringToUTF8=(e,t,r)=>stringToUTF8Array(e,HEAPU8,t,r),stringToUTF8OnStack=e=>{var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8(e,r,t),r},stringToUTF16=(e,t,r)=>{if(r??=2147483647,r<2)return 0;for(var n=t,s=(r-=2)<2*e.length?r/2:e.length,o=0;o<s;++o){var a=e.charCodeAt(o);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n},AsciiToString=e=>{for(var t="";;){var r=HEAPU8[e++];if(!r)return t;t+=String.fromCharCode(r)}},wasmImports={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_js:_emscripten_memcpy_js,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},wasmExports=createWasm(),___wasm_call_ctors=()=>(___wasm_call_ctors=wasmExports.__wasm_call_ctors)(),___wasm_apply_data_relocs=()=>(___wasm_apply_data_relocs=wasmExports.__wasm_apply_data_relocs)(),_malloc=Module._malloc=e=>(_malloc=Module._malloc=wasmExports.malloc)(e),_calloc=Module._calloc=(e,t)=>(_calloc=Module._calloc=wasmExports.calloc)(e,t),_realloc=Module._realloc=(e,t)=>(_realloc=Module._realloc=wasmExports.realloc)(e,t),_free=Module._free=e=>(_free=Module._free=wasmExports.free)(e),_ts_language_symbol_count=Module._ts_language_symbol_count=e=>(_ts_language_symbol_count=Module._ts_language_symbol_count=wasmExports.ts_language_symbol_count)(e),_ts_language_state_count=Module._ts_language_state_count=e=>(_ts_language_state_count=Module._ts_language_state_count=wasmExports.ts_language_state_count)(e),_ts_language_version=Module._ts_language_version=e=>(_ts_language_version=Module._ts_language_version=wasmExports.ts_language_version)(e),_ts_language_field_count=Module._ts_language_field_count=e=>(_ts_language_field_count=Module._ts_language_field_count=wasmExports.ts_language_field_count)(e),_ts_language_next_state=Module._ts_language_next_state=(e,t,r)=>(_ts_language_next_state=Module._ts_language_next_state=wasmExports.ts_language_next_state)(e,t,r),_ts_language_symbol_name=Module._ts_language_symbol_name=(e,t)=>(_ts_language_symbol_name=Module._ts_language_symbol_name=wasmExports.ts_language_symbol_name)(e,t),_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=(e,t,r,n)=>(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=wasmExports.ts_language_symbol_for_name)(e,t,r,n),_strncmp=Module._strncmp=(e,t,r)=>(_strncmp=Module._strncmp=wasmExports.strncmp)(e,t,r),_ts_language_symbol_type=Module._ts_language_symbol_type=(e,t)=>(_ts_language_symbol_type=Module._ts_language_symbol_type=wasmExports.ts_language_symbol_type)(e,t),_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=(e,t)=>(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=wasmExports.ts_language_field_name_for_id)(e,t),_ts_lookahead_iterator_new=Module._ts_lookahead_iterator_new=(e,t)=>(_ts_lookahead_iterator_new=Module._ts_lookahead_iterator_new=wasmExports.ts_lookahead_iterator_new)(e,t),_ts_lookahead_iterator_delete=Module._ts_lookahead_iterator_delete=e=>(_ts_lookahead_iterator_delete=Module._ts_lookahead_iterator_delete=wasmExports.ts_lookahead_iterator_delete)(e),_ts_lookahead_iterator_reset_state=Module._ts_lookahead_iterator_reset_state=(e,t)=>(_ts_lookahead_iterator_reset_state=Module._ts_lookahead_iterator_reset_state=wasmExports.ts_lookahead_iterator_reset_state)(e,t),_ts_lookahead_iterator_reset=Module._ts_lookahead_iterator_reset=(e,t,r)=>(_ts_lookahead_iterator_reset=Module._ts_lookahead_iterator_reset=wasmExports.ts_lookahead_iterator_reset)(e,t,r),_ts_lookahead_iterator_next=Module._ts_lookahead_iterator_next=e=>(_ts_lookahead_iterator_next=Module._ts_lookahead_iterator_next=wasmExports.ts_lookahead_iterator_next)(e),_ts_lookahead_iterator_current_symbol=Module._ts_lookahead_iterator_current_symbol=e=>(_ts_lookahead_iterator_current_symbol=Module._ts_lookahead_iterator_current_symbol=wasmExports.ts_lookahead_iterator_current_symbol)(e),_memset=Module._memset=(e,t,r)=>(_memset=Module._memset=wasmExports.memset)(e,t,r),_memcpy=Module._memcpy=(e,t,r)=>(_memcpy=Module._memcpy=wasmExports.memcpy)(e,t,r),_ts_parser_delete=Module._ts_parser_delete=e=>(_ts_parser_delete=Module._ts_parser_delete=wasmExports.ts_parser_delete)(e),_ts_parser_reset=Module._ts_parser_reset=e=>(_ts_parser_reset=Module._ts_parser_reset=wasmExports.ts_parser_reset)(e),_ts_parser_set_language=Module._ts_parser_set_language=(e,t)=>(_ts_parser_set_language=Module._ts_parser_set_language=wasmExports.ts_parser_set_language)(e,t),_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=e=>(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=wasmExports.ts_parser_timeout_micros)(e),_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=(e,t,r)=>(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=wasmExports.ts_parser_set_timeout_micros)(e,t,r),_ts_parser_set_included_ranges=Module._ts_parser_set_included_ranges=(e,t,r)=>(_ts_parser_set_included_ranges=Module._ts_parser_set_included_ranges=wasmExports.ts_parser_set_included_ranges)(e,t,r),_memmove=Module._memmove=(e,t,r)=>(_memmove=Module._memmove=wasmExports.memmove)(e,t,r),_memcmp=Module._memcmp=(e,t,r)=>(_memcmp=Module._memcmp=wasmExports.memcmp)(e,t,r),_ts_query_new=Module._ts_query_new=(e,t,r,n,s)=>(_ts_query_new=Module._ts_query_new=wasmExports.ts_query_new)(e,t,r,n,s),_ts_query_delete=Module._ts_query_delete=e=>(_ts_query_delete=Module._ts_query_delete=wasmExports.ts_query_delete)(e),_iswspace=Module._iswspace=e=>(_iswspace=Module._iswspace=wasmExports.iswspace)(e),_iswalnum=Module._iswalnum=e=>(_iswalnum=Module._iswalnum=wasmExports.iswalnum)(e),_ts_query_pattern_count=Module._ts_query_pattern_count=e=>(_ts_query_pattern_count=Module._ts_query_pattern_count=wasmExports.ts_query_pattern_count)(e),_ts_query_capture_count=Module._ts_query_capture_count=e=>(_ts_query_capture_count=Module._ts_query_capture_count=wasmExports.ts_query_capture_count)(e),_ts_query_string_count=Module._ts_query_string_count=e=>(_ts_query_string_count=Module._ts_query_string_count=wasmExports.ts_query_string_count)(e),_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=(e,t,r)=>(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=wasmExports.ts_query_capture_name_for_id)(e,t,r),_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=(e,t,r)=>(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=wasmExports.ts_query_string_value_for_id)(e,t,r),_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=(e,t,r)=>(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=wasmExports.ts_query_predicates_for_pattern)(e,t,r),_ts_query_disable_capture=Module._ts_query_disable_capture=(e,t,r)=>(_ts_query_disable_capture=Module._ts_query_disable_capture=wasmExports.ts_query_disable_capture)(e,t,r),_ts_tree_copy=Module._ts_tree_copy=e=>(_ts_tree_copy=Module._ts_tree_copy=wasmExports.ts_tree_copy)(e),_ts_tree_delete=Module._ts_tree_delete=e=>(_ts_tree_delete=Module._ts_tree_delete=wasmExports.ts_tree_delete)(e),_ts_init=Module._ts_init=()=>(_ts_init=Module._ts_init=wasmExports.ts_init)(),_ts_parser_new_wasm=Module._ts_parser_new_wasm=()=>(_ts_parser_new_wasm=Module._ts_parser_new_wasm=wasmExports.ts_parser_new_wasm)(),_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=(e,t)=>(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=wasmExports.ts_parser_enable_logger_wasm)(e,t),_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=(e,t,r,n,s)=>(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=wasmExports.ts_parser_parse_wasm)(e,t,r,n,s),_ts_parser_included_ranges_wasm=Module._ts_parser_included_ranges_wasm=e=>(_ts_parser_included_ranges_wasm=Module._ts_parser_included_ranges_wasm=wasmExports.ts_parser_included_ranges_wasm)(e),_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=(e,t)=>(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=wasmExports.ts_language_type_is_named_wasm)(e,t),_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=(e,t)=>(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=wasmExports.ts_language_type_is_visible_wasm)(e,t),_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=e=>(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=wasmExports.ts_tree_root_node_wasm)(e),_ts_tree_root_node_with_offset_wasm=Module._ts_tree_root_node_with_offset_wasm=e=>(_ts_tree_root_node_with_offset_wasm=Module._ts_tree_root_node_with_offset_wasm=wasmExports.ts_tree_root_node_with_offset_wasm)(e),_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=e=>(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=wasmExports.ts_tree_edit_wasm)(e),_ts_tree_included_ranges_wasm=Module._ts_tree_included_ranges_wasm=e=>(_ts_tree_included_ranges_wasm=Module._ts_tree_included_ranges_wasm=wasmExports.ts_tree_included_ranges_wasm)(e),_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=(e,t)=>(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=wasmExports.ts_tree_get_changed_ranges_wasm)(e,t),_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=e=>(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=wasmExports.ts_tree_cursor_new_wasm)(e),_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=e=>(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=wasmExports.ts_tree_cursor_delete_wasm)(e),_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=e=>(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=wasmExports.ts_tree_cursor_reset_wasm)(e),_ts_tree_cursor_reset_to_wasm=Module._ts_tree_cursor_reset_to_wasm=(e,t)=>(_ts_tree_cursor_reset_to_wasm=Module._ts_tree_cursor_reset_to_wasm=wasmExports.ts_tree_cursor_reset_to_wasm)(e,t),_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=e=>(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=wasmExports.ts_tree_cursor_goto_first_child_wasm)(e),_ts_tree_cursor_goto_last_child_wasm=Module._ts_tree_cursor_goto_last_child_wasm=e=>(_ts_tree_cursor_goto_last_child_wasm=Module._ts_tree_cursor_goto_last_child_wasm=wasmExports.ts_tree_cursor_goto_last_child_wasm)(e),_ts_tree_cursor_goto_first_child_for_index_wasm=Module._ts_tree_cursor_goto_first_child_for_index_wasm=e=>(_ts_tree_cursor_goto_first_child_for_index_wasm=Module._ts_tree_cursor_goto_first_child_for_index_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_index_wasm)(e),_ts_tree_cursor_goto_first_child_for_position_wasm=Module._ts_tree_cursor_goto_first_child_for_position_wasm=e=>(_ts_tree_cursor_goto_first_child_for_position_wasm=Module._ts_tree_cursor_goto_first_child_for_position_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_position_wasm)(e),_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=e=>(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=wasmExports.ts_tree_cursor_goto_next_sibling_wasm)(e),_ts_tree_cursor_goto_previous_sibling_wasm=Module._ts_tree_cursor_goto_previous_sibling_wasm=e=>(_ts_tree_cursor_goto_previous_sibling_wasm=Module._ts_tree_cursor_goto_previous_sibling_wasm=wasmExports.ts_tree_cursor_goto_previous_sibling_wasm)(e),_ts_tree_cursor_goto_descendant_wasm=Module._ts_tree_cursor_goto_descendant_wasm=(e,t)=>(_ts_tree_cursor_goto_descendant_wasm=Module._ts_tree_cursor_goto_descendant_wasm=wasmExports.ts_tree_cursor_goto_descendant_wasm)(e,t),_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=e=>(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=wasmExports.ts_tree_cursor_goto_parent_wasm)(e),_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=e=>(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=wasmExports.ts_tree_cursor_current_node_type_id_wasm)(e),_ts_tree_cursor_current_node_state_id_wasm=Module._ts_tree_cursor_current_node_state_id_wasm=e=>(_ts_tree_cursor_current_node_state_id_wasm=Module._ts_tree_cursor_current_node_state_id_wasm=wasmExports.ts_tree_cursor_current_node_state_id_wasm)(e),_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=e=>(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=wasmExports.ts_tree_cursor_current_node_is_named_wasm)(e),_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=e=>(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=wasmExports.ts_tree_cursor_current_node_is_missing_wasm)(e),_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=e=>(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=wasmExports.ts_tree_cursor_current_node_id_wasm)(e),_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=e=>(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=wasmExports.ts_tree_cursor_start_position_wasm)(e),_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=e=>(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=wasmExports.ts_tree_cursor_end_position_wasm)(e),_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=e=>(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=wasmExports.ts_tree_cursor_start_index_wasm)(e),_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=e=>(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=wasmExports.ts_tree_cursor_end_index_wasm)(e),_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=e=>(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=wasmExports.ts_tree_cursor_current_field_id_wasm)(e),_ts_tree_cursor_current_depth_wasm=Module._ts_tree_cursor_current_depth_wasm=e=>(_ts_tree_cursor_current_depth_wasm=Module._ts_tree_cursor_current_depth_wasm=wasmExports.ts_tree_cursor_current_depth_wasm)(e),_ts_tree_cursor_current_descendant_index_wasm=Module._ts_tree_cursor_current_descendant_index_wasm=e=>(_ts_tree_cursor_current_descendant_index_wasm=Module._ts_tree_cursor_current_descendant_index_wasm=wasmExports.ts_tree_cursor_current_descendant_index_wasm)(e),_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=e=>(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=wasmExports.ts_tree_cursor_current_node_wasm)(e),_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=e=>(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=wasmExports.ts_node_symbol_wasm)(e),_ts_node_field_name_for_child_wasm=Module._ts_node_field_name_for_child_wasm=(e,t)=>(_ts_node_field_name_for_child_wasm=Module._ts_node_field_name_for_child_wasm=wasmExports.ts_node_field_name_for_child_wasm)(e,t),_ts_node_children_by_field_id_wasm=Module._ts_node_children_by_field_id_wasm=(e,t)=>(_ts_node_children_by_field_id_wasm=Module._ts_node_children_by_field_id_wasm=wasmExports.ts_node_children_by_field_id_wasm)(e,t),_ts_node_first_child_for_byte_wasm=Module._ts_node_first_child_for_byte_wasm=e=>(_ts_node_first_child_for_byte_wasm=Module._ts_node_first_child_for_byte_wasm=wasmExports.ts_node_first_child_for_byte_wasm)(e),_ts_node_first_named_child_for_byte_wasm=Module._ts_node_first_named_child_for_byte_wasm=e=>(_ts_node_first_named_child_for_byte_wasm=Module._ts_node_first_named_child_for_byte_wasm=wasmExports.ts_node_first_named_child_for_byte_wasm)(e),_ts_node_grammar_symbol_wasm=Module._ts_node_grammar_symbol_wasm=e=>(_ts_node_grammar_symbol_wasm=Module._ts_node_grammar_symbol_wasm=wasmExports.ts_node_grammar_symbol_wasm)(e),_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=e=>(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=wasmExports.ts_node_child_count_wasm)(e),_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=e=>(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=wasmExports.ts_node_named_child_count_wasm)(e),_ts_node_child_wasm=Module._ts_node_child_wasm=(e,t)=>(_ts_node_child_wasm=Module._ts_node_child_wasm=wasmExports.ts_node_child_wasm)(e,t),_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=(e,t)=>(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=wasmExports.ts_node_named_child_wasm)(e,t),_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=(e,t)=>(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=wasmExports.ts_node_child_by_field_id_wasm)(e,t),_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=e=>(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=wasmExports.ts_node_next_sibling_wasm)(e),_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=e=>(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=wasmExports.ts_node_prev_sibling_wasm)(e),_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=e=>(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=wasmExports.ts_node_next_named_sibling_wasm)(e),_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=e=>(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=wasmExports.ts_node_prev_named_sibling_wasm)(e),_ts_node_descendant_count_wasm=Module._ts_node_descendant_count_wasm=e=>(_ts_node_descendant_count_wasm=Module._ts_node_descendant_count_wasm=wasmExports.ts_node_descendant_count_wasm)(e),_ts_node_parent_wasm=Module._ts_node_parent_wasm=e=>(_ts_node_parent_wasm=Module._ts_node_parent_wasm=wasmExports.ts_node_parent_wasm)(e),_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=e=>(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=wasmExports.ts_node_descendant_for_index_wasm)(e),_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=e=>(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=wasmExports.ts_node_named_descendant_for_index_wasm)(e),_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=e=>(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=wasmExports.ts_node_descendant_for_position_wasm)(e),_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=e=>(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=wasmExports.ts_node_named_descendant_for_position_wasm)(e),_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=e=>(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=wasmExports.ts_node_start_point_wasm)(e),_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=e=>(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=wasmExports.ts_node_end_point_wasm)(e),_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=e=>(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=wasmExports.ts_node_start_index_wasm)(e),_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=e=>(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=wasmExports.ts_node_end_index_wasm)(e),_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=e=>(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=wasmExports.ts_node_to_string_wasm)(e),_ts_node_children_wasm=Module._ts_node_children_wasm=e=>(_ts_node_children_wasm=Module._ts_node_children_wasm=wasmExports.ts_node_children_wasm)(e),_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=e=>(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=wasmExports.ts_node_named_children_wasm)(e),_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=(e,t,r,n,s,o,a)=>(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=wasmExports.ts_node_descendants_of_type_wasm)(e,t,r,n,s,o,a),_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=e=>(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=wasmExports.ts_node_is_named_wasm)(e),_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=e=>(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=wasmExports.ts_node_has_changes_wasm)(e),_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=e=>(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=wasmExports.ts_node_has_error_wasm)(e),_ts_node_is_error_wasm=Module._ts_node_is_error_wasm=e=>(_ts_node_is_error_wasm=Module._ts_node_is_error_wasm=wasmExports.ts_node_is_error_wasm)(e),_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=e=>(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=wasmExports.ts_node_is_missing_wasm)(e),_ts_node_is_extra_wasm=Module._ts_node_is_extra_wasm=e=>(_ts_node_is_extra_wasm=Module._ts_node_is_extra_wasm=wasmExports.ts_node_is_extra_wasm)(e),_ts_node_parse_state_wasm=Module._ts_node_parse_state_wasm=e=>(_ts_node_parse_state_wasm=Module._ts_node_parse_state_wasm=wasmExports.ts_node_parse_state_wasm)(e),_ts_node_next_parse_state_wasm=Module._ts_node_next_parse_state_wasm=e=>(_ts_node_next_parse_state_wasm=Module._ts_node_next_parse_state_wasm=wasmExports.ts_node_next_parse_state_wasm)(e),_ts_query_matches_wasm=Module._ts_query_matches_wasm=(e,t,r,n,s,o,a,i,_,c)=>(_ts_query_matches_wasm=Module._ts_query_matches_wasm=wasmExports.ts_query_matches_wasm)(e,t,r,n,s,o,a,i,_,c),_ts_query_captures_wasm=Module._ts_query_captures_wasm=(e,t,r,n,s,o,a,i,_,c)=>(_ts_query_captures_wasm=Module._ts_query_captures_wasm=wasmExports.ts_query_captures_wasm)(e,t,r,n,s,o,a,i,_,c),_iswalpha=Module._iswalpha=e=>(_iswalpha=Module._iswalpha=wasmExports.iswalpha)(e),_iswblank=Module._iswblank=e=>(_iswblank=Module._iswblank=wasmExports.iswblank)(e),_iswdigit=Module._iswdigit=e=>(_iswdigit=Module._iswdigit=wasmExports.iswdigit)(e),_iswlower=Module._iswlower=e=>(_iswlower=Module._iswlower=wasmExports.iswlower)(e),_iswupper=Module._iswupper=e=>(_iswupper=Module._iswupper=wasmExports.iswupper)(e),_iswxdigit=Module._iswxdigit=e=>(_iswxdigit=Module._iswxdigit=wasmExports.iswxdigit)(e),_memchr=Module._memchr=(e,t,r)=>(_memchr=Module._memchr=wasmExports.memchr)(e,t,r),_strlen=Module._strlen=e=>(_strlen=Module._strlen=wasmExports.strlen)(e),_strcmp=Module._strcmp=(e,t)=>(_strcmp=Module._strcmp=wasmExports.strcmp)(e,t),_strncat=Module._strncat=(e,t,r)=>(_strncat=Module._strncat=wasmExports.strncat)(e,t,r),_strncpy=Module._strncpy=(e,t,r)=>(_strncpy=Module._strncpy=wasmExports.strncpy)(e,t,r),_towlower=Module._towlower=e=>(_towlower=Module._towlower=wasmExports.towlower)(e),_towupper=Module._towupper=e=>(_towupper=Module._towupper=wasmExports.towupper)(e),_setThrew=(e,t)=>(_setThrew=wasmExports.setThrew)(e,t),stackSave=()=>(stackSave=wasmExports.stackSave)(),stackRestore=e=>(stackRestore=wasmExports.stackRestore)(e),stackAlloc=e=>(stackAlloc=wasmExports.stackAlloc)(e),dynCall_jiji=Module.dynCall_jiji=(e,t,r,n,s)=>(dynCall_jiji=Module.dynCall_jiji=wasmExports.dynCall_jiji)(e,t,r,n,s),_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=e=>(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=wasmExports.orig$ts_parser_timeout_micros)(e),_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=(e,t)=>(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=wasmExports.orig$ts_parser_set_timeout_micros)(e,t),calledRun;function callMain(e=[]){var t=resolveGlobalSymbol("main").sym;if(t){e.unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),s=n;e.forEach((e=>{HEAPU32[s>>2]=stringToUTF8OnStack(e),s+=4})),HEAPU32[s>>2]=0;try{var o=t(r,n);return exitJS(o,!0),o}catch(e){return handleException(e)}}}function run(e=arguments_){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}runDependencies>0||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Module.setStatus("")}),1),t()}),1)):t()))}if(Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();const C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_CURSOR=4*SIZE_OF_INT,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;let VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let t;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{t=e[0];const r=C._ts_language_version(t);if(r<MIN_COMPATIBLE_VERSION||VERSION<r)throw new Error(`Incompatible language version ${r}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else t=0,e=null;return this.language=e,C._ts_parser_set_language(this[0],t),this}getLanguage(){return this.language}parse(e,t,r){if("string"==typeof e)currentParseCallback=(t,r)=>e.slice(t);else{if("function"!=typeof e)throw new Error("Argument must be a string or a function");currentParseCallback=e}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let n=0,s=0;if(r?.includedRanges){n=r.includedRanges.length,s=C._calloc(n,SIZE_OF_RANGE);let e=s;for(let t=0;t<n;t++)marshalRange(e,r.includedRanges[t]),e+=SIZE_OF_RANGE}const o=C._ts_parser_parse_wasm(this[0],this[1],t?t[0]:0,s,n);if(!o)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");const a=new Tree(INTERNAL,o,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,a}reset(){C._ts_parser_reset(this[0])}getIncludedRanges(){C._ts_parser_included_ranges_wasm(this[0]);const e=getValue(TRANSFER_BUFFER,"i32"),t=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),r=new Array(e);if(e>0){let n=t;for(let t=0;t<e;t++)r[t]=unmarshalRange(n),n+=SIZE_OF_RANGE;C._free(t)}return r}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}setLogger(e){if(e){if("function"!=typeof e)throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,t,r,n){assertInternal(e),this[0]=t,this.language=r,this.textCallback=n}copy(){const e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}rootNodeWithOffset(e,t){const r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),marshalPoint(r+SIZE_OF_INT,t),C._ts_tree_root_node_with_offset_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(t);if(t>0){let e=r;for(let r=0;r<t;r++)n[r]=unmarshalRange(e),e+=SIZE_OF_RANGE;C._free(r)}return n}getIncludedRanges(){C._ts_tree_included_ranges_wasm(this[0]);const e=getValue(TRANSFER_BUFFER,"i32"),t=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),r=new Array(e);if(e>0){let n=t;for(let t=0;t<e;t++)r[t]=unmarshalRange(n),n+=SIZE_OF_RANGE;C._free(t)}return r}}class Node{constructor(e,t){assertInternal(e),this.tree=t}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get grammarId(){return marshalNode(this),C._ts_node_grammar_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get grammarType(){return this.tree.language.types[this.grammarId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}get parseState(){return marshalNode(this),C._ts_node_parse_state_wasm(this.tree[0])}get nextParseState(){return marshalNode(this),C._ts_node_next_parse_state_wasm(this.tree[0])}get isNamed(){return marshalNode(this),1===C._ts_node_is_named_wasm(this.tree[0])}get hasError(){return marshalNode(this),1===C._ts_node_has_error_wasm(this.tree[0])}get hasChanges(){return marshalNode(this),1===C._ts_node_has_changes_wasm(this.tree[0])}get isError(){return marshalNode(this),1===C._ts_node_is_error_wasm(this.tree[0])}get isMissing(){return marshalNode(this),1===C._ts_node_is_missing_wasm(this.tree[0])}get isExtra(){return marshalNode(this),1===C._ts_node_is_extra_wasm(this.tree[0])}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){const t=this.tree.language.fields.indexOf(e);return-1!==t?this.childForFieldId(t):null}fieldNameForChild(e){marshalNode(this);const t=C._ts_node_field_name_for_child_wasm(this.tree[0],e);return t?AsciiToString(t):null}childrenForFieldName(e){const t=this.tree.language.fields.indexOf(e);return-1!==t&&0!==t?this.childrenForFieldId(t):[]}childrenForFieldId(e){marshalNode(this),C._ts_node_children_by_field_id_wasm(this.tree[0],e);const t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(t);if(t>0){let e=r;for(let r=0;r<t;r++)n[r]=unmarshalNode(this.tree,e),e+=SIZE_OF_NODE;C._free(r)}return n}firstChildForIndex(e){return marshalNode(this),setValue(TRANSFER_BUFFER+SIZE_OF_NODE,e,"i32"),C._ts_node_first_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}firstNamedChildForIndex(e){return marshalNode(this),setValue(TRANSFER_BUFFER+SIZE_OF_NODE,e,"i32"),C._ts_node_first_named_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,"i32"),t=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let r=t;for(let t=0;t<e;t++)this._children[t]=unmarshalNode(this.tree,r),r+=SIZE_OF_NODE;C._free(t)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,"i32"),t=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let r=t;for(let t=0;t<e;t++)this._namedChildren[t]=unmarshalNode(this.tree,r),r+=SIZE_OF_NODE;C._free(t)}}return this._namedChildren}descendantsOfType(e,t,r){Array.isArray(e)||(e=[e]),t||(t=ZERO_POINT),r||(r=ZERO_POINT);const n=[],s=this.tree.language.types;for(let t=0,r=s.length;t<r;t++)e.includes(s[t])&&n.push(t);const o=C._malloc(SIZE_OF_INT*n.length);for(let e=0,t=n.length;e<t;e++)setValue(o+e*SIZE_OF_INT,n[e],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],o,n.length,t.row,t.column,r.row,r.column);const a=getValue(TRANSFER_BUFFER,"i32"),i=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),_=new Array(a);if(a>0){let e=i;for(let t=0;t<a;t++)_[t]=unmarshalNode(this.tree,e),e+=SIZE_OF_NODE}return C._free(i),C._free(o),_}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get descendantCount(){return marshalNode(this),C._ts_node_descendant_count_wasm(this.tree[0])}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");marshalNode(this);const r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),setValue(r+SIZE_OF_INT,t,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");marshalNode(this);const r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),setValue(r+SIZE_OF_INT,t,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,t=e){if(!isPoint(e)||!isPoint(t))throw new Error("Arguments must be {row, column} objects");marshalNode(this);const r=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(r,e),marshalPoint(r+SIZE_OF_POINT,t),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,t=e){if(!isPoint(e)||!isPoint(t))throw new Error("Arguments must be {row, column} objects");marshalNode(this);const r=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(r,e),marshalPoint(r+SIZE_OF_POINT,t),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);const e=C._ts_node_to_string_wasm(this.tree[0]),t=AsciiToString(e);return C._free(e),t}}class TreeCursor{constructor(e,t){assertInternal(e),this.tree=t,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}resetTo(e){marshalTreeCursor(this,TRANSFER_BUFFER),marshalTreeCursor(e,TRANSFER_BUFFER+SIZE_OF_CURSOR),C._ts_tree_cursor_reset_to_wasm(this.tree[0],e.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeStateId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_state_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),1===C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])}get nodeIsMissing(){return marshalTreeCursor(this),1===C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])}get nodeText(){marshalTreeCursor(this);const e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),t=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,t)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}get currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}get currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}get currentFieldName(){return this.tree.language.fields[this.currentFieldId]}get currentDepth(){return marshalTreeCursor(this),C._ts_tree_cursor_current_depth_wasm(this.tree[0])}get currentDescendantIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_current_descendant_index_wasm(this.tree[0])}gotoFirstChild(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===e}gotoLastChild(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_last_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===e}gotoFirstChildForIndex(e){marshalTreeCursor(this),setValue(TRANSFER_BUFFER+SIZE_OF_CURSOR,e,"i32");const t=C._ts_tree_cursor_goto_first_child_for_index_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===t}gotoFirstChildForPosition(e){marshalTreeCursor(this),marshalPoint(TRANSFER_BUFFER+SIZE_OF_CURSOR,e);const t=C._ts_tree_cursor_goto_first_child_for_position_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===t}gotoNextSibling(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===e}gotoPreviousSibling(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_previous_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===e}gotoDescendant(e){marshalTreeCursor(this),C._ts_tree_cursor_goto_descendant_wasm(this.tree[0],e),unmarshalTreeCursor(this)}gotoParent(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===e}}class Language{constructor(e,t){assertInternal(e),this[0]=t,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let e=0,t=this.types.length;e<t;e++)C._ts_language_symbol_type(this[0],e)<2&&(this.types[e]=UTF8ToString(C._ts_language_symbol_name(this[0],e)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let e=0,t=this.fields.length;e<t;e++){const t=C._ts_language_field_name_for_id(this[0],e);this.fields[e]=0!==t?UTF8ToString(t):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}get stateCount(){return C._ts_language_state_count(this[0])}fieldIdForName(e){const t=this.fields.indexOf(e);return-1!==t?t:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,t){const r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1);const s=C._ts_language_symbol_for_name(this[0],n,r,t);return C._free(n),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){const t=C._ts_language_symbol_name(this[0],e);return t?UTF8ToString(t):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}nextState(e,t){return C._ts_language_next_state(this[0],e,t)}lookaheadIterator(e){const t=C._ts_lookahead_iterator_new(this[0],e);return t?new LookaheadIterable(INTERNAL,t,this):null}query(e){const t=lengthBytesUTF8(e),r=C._malloc(t+1);stringToUTF8(e,r,t+1);const n=C._ts_query_new(this[0],r,t,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!n){const t=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=getValue(TRANSFER_BUFFER,"i32"),s=UTF8ToString(r,n).length,o=e.substr(s,100).split("\n")[0];let a,i=o.match(QUERY_WORD_REGEX)[0];switch(t){case 2:a=new RangeError(`Bad node name '${i}'`);break;case 3:a=new RangeError(`Bad field name '${i}'`);break;case 4:a=new RangeError(`Bad capture name @${i}`);break;case 5:a=new TypeError(`Bad pattern structure at offset ${s}: '${o}'...`),i="";break;default:a=new SyntaxError(`Bad syntax at offset ${s}: '${o}'...`),i=""}throw a.index=s,a.length=i.length,C._free(r),a}const s=C._ts_query_string_count(n),o=C._ts_query_capture_count(n),a=C._ts_query_pattern_count(n),i=new Array(o),_=new Array(s);for(let e=0;e<o;e++){const t=C._ts_query_capture_name_for_id(n,e,TRANSFER_BUFFER),r=getValue(TRANSFER_BUFFER,"i32");i[e]=UTF8ToString(t,r)}for(let e=0;e<s;e++){const t=C._ts_query_string_value_for_id(n,e,TRANSFER_BUFFER),r=getValue(TRANSFER_BUFFER,"i32");_[e]=UTF8ToString(t,r)}const c=new Array(a),l=new Array(a),u=new Array(a),d=new Array(a),m=new Array(a);for(let e=0;e<a;e++){const t=C._ts_query_predicates_for_pattern(n,e,TRANSFER_BUFFER),r=getValue(TRANSFER_BUFFER,"i32");d[e]=[],m[e]=[];const s=[];let o=t;for(let t=0;t<r;t++){const t=getValue(o,"i32");o+=SIZE_OF_INT;const r=getValue(o,"i32");if(o+=SIZE_OF_INT,t===PREDICATE_STEP_TYPE_CAPTURE)s.push({type:"capture",name:i[r]});else if(t===PREDICATE_STEP_TYPE_STRING)s.push({type:"string",value:_[r]});else if(s.length>0){if("string"!==s[0].type)throw new Error("Predicates must begin with a literal value");const t=s[0].value;let r,n=!0,o=!0;switch(t){case"any-not-eq?":case"not-eq?":n=!1;case"any-eq?":case"eq?":if(3!==s.length)throw new Error(`Wrong number of arguments to \`#${t}\` predicate. Expected 2, got ${s.length-1}`);if("capture"!==s[1].type)throw new Error(`First argument of \`#${t}\` predicate must be a capture. Got "${s[1].value}"`);if(o=!t.startsWith("any-"),"capture"===s[2].type){const t=s[1].name,r=s[2].name;m[e].push((e=>{const s=[],a=[];for(const n of e)n.name===t&&s.push(n.node),n.name===r&&a.push(n.node);const i=(e,t,r)=>r?e.text===t.text:e.text!==t.text;return o?s.every((e=>a.some((t=>i(e,t,n))))):s.some((e=>a.some((t=>i(e,t,n)))))}))}else{r=s[1].name;const t=s[2].value,a=e=>e.text===t,i=e=>e.text!==t;m[e].push((e=>{const t=[];for(const n of e)n.name===r&&t.push(n.node);const s=n?a:i;return o?t.every(s):t.some(s)}))}break;case"any-not-match?":case"not-match?":n=!1;case"any-match?":case"match?":if(3!==s.length)throw new Error(`Wrong number of arguments to \`#${t}\` predicate. Expected 2, got ${s.length-1}.`);if("capture"!==s[1].type)throw new Error(`First argument of \`#${t}\` predicate must be a capture. Got "${s[1].value}".`);if("string"!==s[2].type)throw new Error(`Second argument of \`#${t}\` predicate must be a string. Got @${s[2].value}.`);r=s[1].name;const a=new RegExp(s[2].value);o=!t.startsWith("any-"),m[e].push((e=>{const t=[];for(const n of e)n.name===r&&t.push(n.node.text);const s=(e,t)=>t?a.test(e):!a.test(e);return 0===t.length?!n:o?t.every((e=>s(e,n))):t.some((e=>s(e,n)))}));break;case"set!":if(s.length<2||s.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${s.length-1}.`);if(s.some((e=>"string"!==e.type)))throw new Error('Arguments to `#set!` predicate must be a strings.".');c[e]||(c[e]={}),c[e][s[1].value]=s[2]?s[2].value:null;break;case"is?":case"is-not?":if(s.length<2||s.length>3)throw new Error(`Wrong number of arguments to \`#${t}\` predicate. Expected 1 or 2. Got ${s.length-1}.`);if(s.some((e=>"string"!==e.type)))throw new Error(`Arguments to \`#${t}\` predicate must be a strings.".`);const i="is?"===t?l:u;i[e]||(i[e]={}),i[e][s[1].value]=s[2]?s[2].value:null;break;case"not-any-of?":n=!1;case"any-of?":if(s.length<2)throw new Error(`Wrong number of arguments to \`#${t}\` predicate. Expected at least 1. Got ${s.length-1}.`);if("capture"!==s[1].type)throw new Error(`First argument of \`#${t}\` predicate must be a capture. Got "${s[1].value}".`);for(let e=2;e<s.length;e++)if("string"!==s[e].type)throw new Error(`Arguments to \`#${t}\` predicate must be a strings.".`);r=s[1].name;const _=s.slice(2).map((e=>e.value));m[e].push((e=>{const t=[];for(const n of e)n.name===r&&t.push(n.node.text);return 0===t.length?!n:t.every((e=>_.includes(e)))===n}));break;default:d[e].push({operator:t,operands:s.slice(1)})}s.length=0}}Object.freeze(c[e]),Object.freeze(l[e]),Object.freeze(u[e])}return C._free(r),new Query(INTERNAL,n,i,m,d,Object.freeze(c),Object.freeze(l),Object.freeze(u))}static load(e){let t;if(e instanceof Uint8Array)t=Promise.resolve(e);else{const r=e;if("undefined"!=typeof process&&process.versions&&process.versions.node){const e=__webpack_require__(75);t=Promise.resolve(e.readFileSync(r))}else t=fetch(r).then((e=>e.arrayBuffer().then((t=>{if(e.ok)return new Uint8Array(t);{const r=new TextDecoder("utf-8").decode(t);throw new Error(`Language.load failed with status ${e.status}.\n\n${r}`)}}))))}return t.then((e=>loadWebAssemblyModule(e,{loadAsync:!0}))).then((e=>{const t=Object.keys(e),r=t.find((e=>LANGUAGE_FUNCTION_REGEX.test(e)&&!e.includes("external_scanner_")));r||console.log(`Couldn't find language function in WASM file. Symbols:\n${JSON.stringify(t,null,2)}`);const n=e[r]();return new Language(INTERNAL,n)}))}}class LookaheadIterable{constructor(e,t,r){assertInternal(e),this[0]=t,this.language=r}get currentTypeId(){return C._ts_lookahead_iterator_current_symbol(this[0])}get currentType(){return this.language.types[this.currentTypeId]||"ERROR"}delete(){C._ts_lookahead_iterator_delete(this[0]),this[0]=0}resetState(e){return C._ts_lookahead_iterator_reset_state(this[0],e)}reset(e,t){return!!C._ts_lookahead_iterator_reset(this[0],e[0],t)&&(this.language=e,!0)}[Symbol.iterator](){const e=this;return{next:()=>C._ts_lookahead_iterator_next(e[0])?{done:!1,value:e.currentType}:{done:!0,value:""}}}}class Query{constructor(e,t,r,n,s,o,a,i){assertInternal(e),this[0]=t,this.captureNames=r,this.textPredicates=n,this.predicates=s,this.setProperties=o,this.assertedProperties=a,this.refutedProperties=i,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,{startPosition:t=ZERO_POINT,endPosition:r=ZERO_POINT,startIndex:n=0,endIndex:s=0,matchLimit:o=4294967295,maxStartDepth:a=4294967295}={}){if("number"!=typeof o)throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],t.row,t.column,r.row,r.column,n,s,o,a);const i=getValue(TRANSFER_BUFFER,"i32"),_=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),l=new Array(i);this.exceededMatchLimit=Boolean(c);let u=0,d=_;for(let t=0;t<i;t++){const t=getValue(d,"i32");d+=SIZE_OF_INT;const r=getValue(d,"i32");d+=SIZE_OF_INT;const n=new Array(r);if(d=unmarshalCaptures(this,e.tree,d,n),this.textPredicates[t].every((e=>e(n)))){l[u]={pattern:t,captures:n};const e=this.setProperties[t];e&&(l[u].setProperties=e);const r=this.assertedProperties[t];r&&(l[u].assertedProperties=r);const s=this.refutedProperties[t];s&&(l[u].refutedProperties=s),u++}}return l.length=u,C._free(_),l}captures(e,{startPosition:t=ZERO_POINT,endPosition:r=ZERO_POINT,startIndex:n=0,endIndex:s=0,matchLimit:o=4294967295,maxStartDepth:a=4294967295}={}){if("number"!=typeof o)throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],t.row,t.column,r.row,r.column,n,s,o,a);const i=getValue(TRANSFER_BUFFER,"i32"),_=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),l=[];this.exceededMatchLimit=Boolean(c);const u=[];let d=_;for(let t=0;t<i;t++){const t=getValue(d,"i32");d+=SIZE_OF_INT;const r=getValue(d,"i32");d+=SIZE_OF_INT;const n=getValue(d,"i32");if(d+=SIZE_OF_INT,u.length=r,d=unmarshalCaptures(this,e.tree,d,u),this.textPredicates[t].every((e=>e(u)))){const e=u[n],r=this.setProperties[t];r&&(e.setProperties=r);const s=this.assertedProperties[t];s&&(e.assertedProperties=s);const o=this.refutedProperties[t];o&&(e.refutedProperties=o),l.push(e)}}return C._free(_),l}predicatesForPattern(e){return this.predicates[e]}disableCapture(e){const t=lengthBytesUTF8(e),r=C._malloc(t+1);stringToUTF8(e,r,t+1),C._ts_query_disable_capture(this[0],r,t),C._free(r)}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){const n=r-t;let s=e.textCallback(t,null,r);for(t+=s.length;t<r;){const n=e.textCallback(t,null,r);if(!(n&&n.length>0))break;t+=n.length,s+=n}return t>r&&(s=s.slice(0,n)),s}function unmarshalCaptures(e,t,r,n){for(let s=0,o=n.length;s<o;s++){const o=getValue(r,"i32"),a=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[s]={name:e.captureNames[o],node:a}}return r}function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}function isPoint(e){return e&&"number"==typeof e.row&&"number"==typeof e.column}function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}function unmarshalNode(e,t=TRANSFER_BUFFER){const r=getValue(t,"i32");if(0===r)return null;const n=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),o=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),i=new Node(INTERNAL,e);return i.id=r,i.startIndex=n,i.startPosition={row:s,column:o},i[0]=a,i}function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32"),setValue(t+3*SIZE_OF_INT,e[3],"i32")}function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),e[3]=getValue(TRANSFER_BUFFER+3*SIZE_OF_INT,"i32")}function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}function unmarshalPoint(e){return{row:getValue(e,"i32")>>>0,column:getValue(e+SIZE_OF_INT,"i32")>>>0}}function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}function unmarshalRange(e){const t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32")>>>0,e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32")>>>0,t}function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}for(const e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}})))}}return Parser}();module.exports=TreeSitter},398:e=>{"use strict";e.exports=require("vscode")},75:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}var __webpack_exports__=__webpack_require__(265),__webpack_export_target__=exports;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();