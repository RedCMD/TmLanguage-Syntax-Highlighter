(()=>{"use strict";var e={104:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.initTokenColorCustomizations=void 0;const n=t(398);o.initTokenColorCustomizations=function(e){const o=n.window.activeTextEditor?.document;l(a(o)||r(o)),e.subscriptions.push(n.window.onDidChangeActiveTextEditor((e=>{const o=e?.document;l(a(o)||r(o))}))),e.subscriptions.push(n.workspace.onDidOpenTextDocument((e=>{e==n.window.activeTextEditor?.document&&l(a(e)||r(e))}))),e.subscriptions.push(n.workspace.onDidChangeTextDocument((e=>{if(0==e.contentChanges.length)return;const o=e.document;n.languages.match(i,o)&&o==n.window.activeTextEditor?.document&&l(a(o))}))),e.subscriptions.push(n.workspace.onDidCloseTextDocument((e=>{e==n.window.activeTextEditor?.document&&l(null)})))};const i=[{pattern:"**/package.json",scheme:"file"},{pattern:"**/package.json",scheme:"vscode-vfs"}],s=[{language:"json-textmate",scheme:"file"},{language:"json-textmate",scheme:"vscode-vfs"}];function a(e){return e?n.languages.match(i,e)?e.uri:void 0:null}function r(e){return e?n.languages.match(s,e)?n.Uri.joinPath(e.uri,"../../package.json"):void 0:null}let c=!1,u=!1;const d="[tokenColorCustomizations_bak_JSON_TextMate";async function l(e){const o=n.workspace.name?n.ConfigurationTarget.Workspace:n.ConfigurationTarget.Global,t=n.workspace.name?"workspaceValue":"globalValue";if(e)try{const i=await n.workspace.openTextDocument(e),s=await JSON.parse(i?.getText()),a=s?.contributes?.configurationDefaults?.["editor.tokenColorCustomizations"];if(a){const e=n.workspace.getConfiguration("editor"),i=e.inspect("tokenColorCustomizations")[t]??{},s=i[d]??i;return delete s[d],a[d]=s,e.update("tokenColorCustomizations",a,o),void(u=!0)}}catch(e){if(u&&0==c){const o=`Failed to parse package.json:\n${e}`,t="Ignore";n.window.showWarningMessage(o,t).then((e=>(e==t&&(c=!0),!0)))}}const i=n.workspace.getConfiguration("editor"),s=(i.inspect("tokenColorCustomizations")[t]??{})[d];if(void 0!==s){const e=Object.keys(s).length;i.update("tokenColorCustomizations",e?s:void 0,o)}}},398:e=>{e.exports=require("vscode")}},o={};function t(n){var i=o[n];if(void 0!==i)return i.exports;var s=o[n]={exports:{}};return e[n](s,s.exports,t),s.exports}var n={};(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const o=t(104);e.activate=function(e){(0,o.initTokenColorCustomizations)(e)},e.deactivate=function(){}})();var i=exports;for(var s in n)i[s]=n[s];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();